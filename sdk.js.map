{"version":3,"sources":["webpack://liff/webpack/universalModuleDefinition","webpack://liff/webpack/bootstrap","webpack://liff/./lib/util/consts.ts","webpack://liff/./node_modules/tslib/tslib.es6.js","webpack://liff/./lib/util/LiffError.ts","webpack://liff/./lib/util/createError.ts","webpack://liff/./lib/store/get.ts","webpack://liff/./lib/store/set.ts","webpack://liff/./lib/store/remove.ts","webpack://liff/./lib/util/cookie/index.ts","webpack://liff/./lib/util/cookie/set.ts","webpack://liff/./lib/util/cookie/get.ts","webpack://liff/./lib/util/cookie/remove.ts","webpack://liff/./lib/store/index.ts","webpack://liff/./lib/store/clean.ts","webpack://liff/./lib/client/bridge/dispatch.ts","webpack://liff/./lib/client/bridge/createEvent.ts","webpack://liff/./lib/client/bridge/index.ts","webpack://liff/./lib/common/isInClient.ts","webpack://liff/./lib/client/bridge/addListener.ts","webpack://liff/./lib/util/randomBase64Hash.ts","webpack://liff/./lib/client/checkFeature.ts","webpack://liff/./lib/client/bridge/removeListener.ts","webpack://liff/./lib/client/bridge/postMessage.ts","webpack://liff/./node_modules/promise-polyfill/src/finally.js","webpack://liff/./lib/util/hexToBase64.ts","webpack://liff/(webpack)/buildin/global.js","webpack://liff/./lib/client/bridge/call.ts","webpack://liff/./node_modules/promise-polyfill/src/index.js","webpack://liff/./node_modules/tiny-sha256/index.js","webpack://liff/./node_modules/promise-polyfill/src/polyfill.js","webpack://liff/./node_modules/timers-browserify/main.js","webpack://liff/./node_modules/setimmediate/setImmediate.js","webpack://liff/./node_modules/process/browser.js","webpack://liff/./node_modules/webcrypto-shim/webcrypto-shim.js","webpack://liff/./lib/client/bridge/customEventPolyFill.ts","webpack://liff/./node_modules/whatwg-fetch/fetch.js","webpack://liff/./lib/auth/isLoggedIn.ts","webpack://liff/./lib/util/qs/index.ts","webpack://liff/./lib/util/qs/parse.ts","webpack://liff/./lib/util/qs/stringify.ts","webpack://liff/./lib/util/getEndPoint.ts","webpack://liff/./lib/auth/login.ts","webpack://liff/./lib/auth/createCodeChallenge.ts","webpack://liff/./lib/auth/createCodeVerifier.ts","webpack://liff/./lib/auth/logout.ts","webpack://liff/./lib/util/fetch.ts","webpack://liff/./lib/util/decodeBase64URL.ts","webpack://liff/./lib/util/toBufferSource.ts","webpack://liff/./lib/auth/verifyIDToken.ts","webpack://liff/./lib/auth/permanentLink.ts","webpack://liff/./lib/common/getOS.ts","webpack://liff/./lib/common/getLanguage.ts","webpack://liff/./lib/logToTorimochi.ts","webpack://liff/./lib/api/sendMessages.ts","webpack://liff/./lib/util/dom/listen.ts","webpack://liff/./lib/util/dom/removeListen.ts","webpack://liff/./lib/util/dom/windowPostMessage.ts","webpack://liff/./lib/util/dom/abstract/AbstractSubwindow.ts","webpack://liff/./lib/util/dom/abstract/AbstractIframe.ts","webpack://liff/./lib/util/dom/makeUniqAttr.ts","webpack://liff/./lib/util/dom/ShareTargetPickerIframe.ts","webpack://liff/./lib/util/dom/css/shareTargetPicker.ts","webpack://liff/./lib/util/toStyle.ts","webpack://liff/./lib/util/dom/ShareTargetPickerPopup.ts","webpack://liff/./lib/util/dom/abstract/AbstractPopup.ts","webpack://liff/./lib/plugin/config.ts","webpack://liff/./lib/plugin/loadPlugin.ts","webpack://liff/./lib/index.ts","webpack://liff/./lib/init.ts","webpack://liff/./lib/auth/requestAccessToken.ts","webpack://liff/./lib/client/parseContext.ts","webpack://liff/./lib/client/ready.ts","webpack://liff/./lib/auth/checkExpired.ts","webpack://liff/./lib/common/getVersion.ts","webpack://liff/./lib/client/openWindow.ts","webpack://liff/./lib/client/closeWindow.ts","webpack://liff/./lib/client/scanCode.ts","webpack://liff/./lib/client/getAdvertisingId.ts","webpack://liff/./lib/api/getFriendship.ts","webpack://liff/./lib/api/getProfile.ts","webpack://liff/./lib/api/userPicker.ts","webpack://liff/./lib/plugin/initPlugins.ts","webpack://liff/./lib/plugin/checkPlugin.ts"],"names":["root","factory","exports","module","define","amd","window","webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","i","resolves","length","installedChunks","push","Object","prototype","hasOwnProperty","call","modules","parentJsonpFunction","shift","installedModules","3","2","__webpack_require__","l","e","promises","installedChunkData","promise","Promise","resolve","reject","onScriptComplete","script","document","createElement","charset","timeout","nc","setAttribute","src","p","0","1","jsonpScriptSrc","event","onerror","onload","clearTimeout","chunk","errorType","type","realSrc","target","error","Error","request","undefined","setTimeout","head","appendChild","all","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","oe","err","console","jsonpArray","oldJsonpFunction","slice","s","__webpack_exports__","UNAUTHORIZED","INVALID_ARGUMENT","INIT_FAILED","FORBIDDEN","INVALID_CONFIG","CREATE_SUBWINDOW_FAILED","EXCEPTION_IN_SUBWINDOW","INVALID_ID_TOKEN","LIFF_EVENT","STORE_KEY","PERMANENT_LINK_ORIGIN","STORE_OBJECT","LIFF_ATTR_DOM","ROUTER_MODE","ACCESS_TOKEN","DECODED_ID_TOKEN","FEATURE_TOKEN","FEATURES","LOGIN_TMP","CONFIG","CONTEXT","EXPIRES","__extends","__assign","__awaiter","__generator","extendStatics","b","setPrototypeOf","__proto__","Array","__","this","constructor","assign","arguments","apply","thisArg","_arguments","P","generator","fulfilled","step","next","rejected","result","done","then","body","f","y","g","_","label","sent","trys","ops","verb","throw","return","iterator","v","op","TypeError","pop","_super","LiffError","code","message","_this","tslib_es6","createError","util_LiffError","liffId","getConfig","consts","rawData","isInClient","sessionStorage","localStorage","getItem","JSON","parse","_a","set","setItem","stringify","remove","removeItem","cookie","options","k","log","re","RegExp","replace","setConfig","getFeatures","setFeatures","getLoginTmp","setLoginTmp","removeLoginTmp","getAccessToken","setAccessToken","getDecodedIDToken","setDecodedIDToken","getFeatureToken","setFeatureToken","getContext","setContext","setExpireTime","getExpireTime","removeExpireTime","clean","keys","forEach","store_config","features","expires","config","getTime","toUTCString","path","dispatch","json","detail","CustomEvent","createEvent","_log","dispatchEvent","addListener","removeListener","postMessage","_liff","callbacks","_util_consts__WEBPACK_IMPORTED_MODULE_0__","isListenerInited","callback","addEventListener","randomBase64Hash","_hexToBase64__WEBPACK_IMPORTED_MODULE_0__","hash","Math","ceil","random","substr","checkFeature","_store__WEBPACK_IMPORTED_MODULE_0__","feature","indexOf","_addListener__WEBPACK_IMPORTED_MODULE_0__","_callbacks","isArray","indexToBeRemoved","splice","_util_createError__WEBPACK_IMPORTED_MODULE_1__","_util_consts__WEBPACK_IMPORTED_MODULE_2__","params","callbackId","featureToken","reason","hexToBase64","hex","split","String","fromCharCode","parseInt","btoa","Function","once","_store__WEBPACK_IMPORTED_MODULE_4__","tslib__WEBPACK_IMPORTED_MODULE_0__","_util_randomBase64Hash__WEBPACK_IMPORTED_MODULE_5__","callbackHandler","hasCorrespondingCallbackId","callbackIdIsNotSet","_removeListener__WEBPACK_IMPORTED_MODULE_2__","_addListener__WEBPACK_IMPORTED_MODULE_1__","_postMessage__WEBPACK_IMPORTED_MODULE_3__","_util_createError__WEBPACK_IMPORTED_MODULE_6__","_util_consts__WEBPACK_IMPORTED_MODULE_7__","setImmediate","_finally__WEBPACK_IMPORTED_MODULE_0__","setTimeoutFunc","noop","fn","_state","_handled","_value","_deferreds","doResolve","handle","self","deferred","_immediateFn","cb","onFulfilled","onRejected","ret","newValue","finale","_unhandledRejectionFn","len","Handler","ex","prom","arr","args","remaining","res","val","race","values","warn","__WEBPACK_AMD_DEFINE_FACTORY__","__WEBPACK_AMD_DEFINE_ARRAY__","__WEBPACK_AMD_DEFINE_RESULT__","sha256","ascii","rightRotate","amount","j","mathPow","pow","maxWord","words","asciiBitLength","h","primeCounter","isComposite","candidate","charCodeAt","w","oldHash","w15","w2","a","temp1","temp2","concat","toString","global","_index__WEBPACK_IMPORTED_MODULE_0__","_finally__WEBPACK_IMPORTED_MODULE_1__","globalNS","scope","Timeout","id","clearFn","_id","_clearFn","setInterval","clearInterval","close","unref","ref","enroll","item","msecs","_idleTimeoutId","_idleTimeout","unenroll","_unrefActive","active","_onTimeout","clearImmediate","process","registerImmediate","html","channel","messagePrefix","onGlobalMessage","nextHandle","tasksByHandle","currentlyRunningATask","doc","attachTo","getPrototypeOf","nextTick","runIfPresent","importScripts","postMessageIsAsynchronous","oldOnMessage","onmessage","canUsePostMessage","MessageChannel","port1","port2","documentElement","onreadystatechange","removeChild","source","attachEvent","task","run","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","defaultClearTimeout","runTimeout","fun","currentQueue","queue","draining","queueIndex","cleanUpNextTick","drainQueue","marker","runClearTimeout","Item","array","title","browser","env","argv","version","versions","on","off","removeAllListeners","emit","prependListener","prependOnceListener","listeners","binding","cwd","chdir","dir","umask","_crypto","crypto","msCrypto","_subtle","subtle","webkitSubtle","_Crypto","Crypto","_SubtleCrypto","SubtleCrypto","isEdge","CryptoKey","Key","navigator","userAgent","isIE","isWebkit","oid2str","KoZIhvcNAQEB","str2oid","1.2.840.113549.1.1.1","_fn","ka","kx","ku","jwk","alg","b2jwk","jwkAlg","key_ops","kty","filter","isPrvKeyUse","isPubKeyUse","ext","s2b","unescape","encodeURIComponent","buffer","_key","SHA-1","SHA-256","SHA-384","SHA-512","importKey","getRandomValues","Uint8Array","modulusLength","generateKey","exportKey","publicKey","privateKey","a2s","info","b2der","prv","rsaComp","rsaKey","subarray","s2a","b2s","pkcs2jwk","decrypt","rej","onabort","oncomplete","algorithm","search","publicExponent","encrypt","usages","unshift","der2b","tag","jwk2pkcs","byteLength","tl","tagLength","AesGcmEncryptResult","ciphertext","_digest","digest","atob","ArrayBuffer","toUpperCase","SyntaxError","HMAC","RSASSA-PKCS1-v1_5","RSAES-PKCS1-v1_5","","RSA-OAEP","AES-KW","128","192","256","AES-GCM","AES-CBC","decodeURIComponent","escape","extractable","x","buf","ctx","pos","end","RangeError","rv","xlen","oid","use","defineProperties","u","bubbles","cancelable","evt","initCustomEvent","Event","support","searchParams","iterable","blob","Blob","formData","arrayBuffer","viewClasses","isArrayBufferView","isView","obj","normalizeName","test","toLowerCase","normalizeValue","iteratorFor","items","Headers","headers","map","append","header","getOwnPropertyNames","consumed","bodyUsed","fileReaderReady","reader","readBlobAsArrayBuffer","FileReader","readAsArrayBuffer","bufferClone","view","Body","_initBody","_bodyInit","_bodyText","isPrototypeOf","_bodyBlob","FormData","_bodyFormData","URLSearchParams","DataView","_bodyArrayBuffer","text","readAsText","chars","join","readArrayBufferAsText","decode","oldValue","has","entries","methods","Request","input","method","upcased","url","credentials","signal","referrer","form","trim","bytes","Response","bodyInit","status","ok","statusText","clone","response","redirectStatuses","redirect","location","DOMException","stack","fetch_fetch","init","aborted","xhr","XMLHttpRequest","abortXhr","abort","rawHeaders","getAllResponseHeaders","line","parts","responseURL","responseText","ontimeout","open","withCredentials","responseType","setRequestHeader","readyState","removeEventListener","send","polyfill","fetch","isLoggedIn","store","qs","reduce","query","createUrl","_b","subdomain","pathname","endPointMap","token","certs","openid-configuration","authorize","profile","messageOTT","friendship","userPicker","userPickerDomain","getEndPoint","login","loginConfig","code_verifier","codeVerifier","code_challenge","tiny_sha256_default","loginParams","app_id","state","response_type","code_challenge_method","redirectUri","redirect_uri","href","logout","handleRes","error_description","_fetch","accessToken","Content-Type","Accept","Authorization","decodeBase64URL","toBufferSource","str","fetchCerts","os","language","extraParams","decodeState","decodedState","exec","validateState","filteredState","removeDoubleSlashes","currentHash","tokenHash","substring","urlencode","toJSONString","sep","Beacon","endpoint","hitCallback","image","width","height","getOS","ua","SendMessagesOptionsType","listen_eventHandlers","listen","removeListen","eventHandlers","windowPostMessage_WindowPostMessage","WindowPostMessage","listenKeyName","receiver","destination","destroy","SERVER_END_POINT","sendData","AbstractSubwindow_AbstractSubwindow","AbstractSubwindow","namespace","uniqAttr","windowPostMessage","prepareWindow","postmessageDestination","postMessageCallback","pingHandler","healthcheckHandler","closed","start","breakWindow","AbstractIframe_AbstractIframe","AbstractIframe","iframe","contentWindow","uniq","querySelector","makeUniqAttr","contentElm","prepareDom","styleElm","prepareStyle","changeBodyStyle","ShareTargetPickerIframe_ShareTargetPickerIFrame","ShareTargetPickerIFrame","submittedData","originalBodyStyle","orgDocumentStyle","originalBodyPos","routerMode","NONE","cancel","history","back","submit","HASH","HISTORY","historyAdd","startWatchingHistoryChange","wrapper","wrapperIn","style","textContent","toStyle","styles","important","prop","margin","padding","border","font-size","font","vertical-align","box-size","display","position","z-index","overflow-x","overflow-y","top","bottom","left","right","-webkit-overflow-scrolling","background-color","background","justify-content","flex","margin-right","border-radius","color","font-weight","line-height","text-decoration","word-break","text-align","opacity","transition","cursor","animation","from","transform","to","revertBodyStyle","classList","add","scrollX","scrollY","cssText","scrollTo","passive","userpicker","pushState","handler","historyRemove","replaceState","ShareTargetPickerPopup_ShareTargetPickerPopup","ShareTargetPickerPopup","AbstractPopup","windowProxy","verification","bluetooth","featureName","shouldIgnore","advertisement","loadPlugin","plugin","liff","successCallback","errorCallback","success","loginTmp","postData","grant_type","client_id","liffClientId","appId","liffRedirectUri","id_token_key_type","requestAccessToken","rawToken","access_token","Date","now","expires_in","idToken","id_token","jwt","payload","signature","headerJSON","payloadJSON","signatureBuf","encodedBuf","certsKey","find","kid","namedCurve","remotePublicKey","verify","issInvalid","iss","audInvalid","aud","expInvalid","exp","floor","verifyIDToken","catch","errDesc","errMsg","msg","beacon","isClient","canUseValidate","validateFeatureToken","context_token","contextStr","parseContext","feature_token","cid","eventType","timestamp","logVersion","threshold","productKey","productVersion","host","hostname","userId","sessionId","sessionPath","sessionQuery","sessionTime","sessionDuration","sessionParams","touchX","touchY","windowX","windowY","targets","content","debug","readyHandler_1","getVersion","getLanguage","languages","openWindow","external","bridge","closeWindow","scanCode","getAdvertisingId","advertising","getFriendship","getProfile","sendMessages","messages","none","ott","picker","e_1","e_2","initPlugins","plugins","pluginVerification","checkPlugin","_c","default","permanentLink","hashesToFilter","filteredHash","Boolean","curPath","setExtraQueryParam","paramsToAdd","_dispatchEvent","_call","_addListener","_removeListener","_postMessage"],"mappings":"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","file":"sdk.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"liff\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"liff\"] = factory();\n\telse\n\t\troot[\"liff\"] = factory();\n})(window, function() {\nreturn "," \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t};\n\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t3: 0,\n \t\t2: 0\n \t};\n\n\n\n \t// script path function\n \tfunction jsonpScriptSrc(chunkId) {\n \t\treturn __webpack_require__.p + \"\" + ({\"0\":\"advertisement\",\"1\":\"bluetooth\"}[chunkId]||chunkId) + \".\" + \"180bd787fe2cade04c87\" + \".js\"\n \t}\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n \t// This file contains only the entry chunk.\n \t// The chunk loading function for additional chunks\n \t__webpack_require__.e = function requireEnsure(chunkId) {\n \t\tvar promises = [];\n\n\n \t\t// JSONP chunk loading for javascript\n\n \t\tvar installedChunkData = installedChunks[chunkId];\n \t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n \t\t\t// a Promise means \"currently loading\".\n \t\t\tif(installedChunkData) {\n \t\t\t\tpromises.push(installedChunkData[2]);\n \t\t\t} else {\n \t\t\t\t// setup Promise in chunk cache\n \t\t\t\tvar promise = new Promise(function(resolve, reject) {\n \t\t\t\t\tinstalledChunkData = installedChunks[chunkId] = [resolve, reject];\n \t\t\t\t});\n \t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n \t\t\t\t// start chunk loading\n \t\t\t\tvar script = document.createElement('script');\n \t\t\t\tvar onScriptComplete;\n\n \t\t\t\tscript.charset = 'utf-8';\n \t\t\t\tscript.timeout = 120;\n \t\t\t\tif (__webpack_require__.nc) {\n \t\t\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n \t\t\t\t}\n \t\t\t\tscript.src = jsonpScriptSrc(chunkId);\n\n \t\t\t\tonScriptComplete = function (event) {\n \t\t\t\t\t// avoid mem leaks in IE.\n \t\t\t\t\tscript.onerror = script.onload = null;\n \t\t\t\t\tclearTimeout(timeout);\n \t\t\t\t\tvar chunk = installedChunks[chunkId];\n \t\t\t\t\tif(chunk !== 0) {\n \t\t\t\t\t\tif(chunk) {\n \t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n \t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n \t\t\t\t\t\t\tvar error = new Error('Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')');\n \t\t\t\t\t\t\terror.type = errorType;\n \t\t\t\t\t\t\terror.request = realSrc;\n \t\t\t\t\t\t\tchunk[1](error);\n \t\t\t\t\t\t}\n \t\t\t\t\t\tinstalledChunks[chunkId] = undefined;\n \t\t\t\t\t}\n \t\t\t\t};\n \t\t\t\tvar timeout = setTimeout(function(){\n \t\t\t\t\tonScriptComplete({ type: 'timeout', target: script });\n \t\t\t\t}, 120000);\n \t\t\t\tscript.onerror = script.onload = onScriptComplete;\n \t\t\t\tdocument.head.appendChild(script);\n \t\t\t}\n \t\t}\n \t\treturn Promise.all(promises);\n \t};\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"https://static.line-scdn.net/liff/edge/2.1/\";\n\n \t// on error function for async loading\n \t__webpack_require__.oe = function(err) { console.error(err); throw err; };\n\n \tvar jsonpArray = window[\"webpackJsonpliff\"] = window[\"webpackJsonpliff\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 23);\n","// ERROR CODEs\n// Try call server api without access token\nexport const UNAUTHORIZED = 'UNAUTHORIZED'\n// Parameters are invalid\nexport const INVALID_ARGUMENT = 'INVALID_ARGUMENT'\n// Failed to init LIFF SDK\nexport const INIT_FAILED = 'INIT_FAILED'\n// Do not have enough permission\nexport const FORBIDDEN = 'FORBIDDEN'\n// incorrect liff config\nexport const INVALID_CONFIG = 'INVALID_CONFIG'\n\n// Failed to create new window/iframe\nexport const CREATE_SUBWINDOW_FAILED = 'CREATE_SUBWINDOW_FAILED'\n\n// Exception happened in window/iframe\nexport const EXCEPTION_IN_SUBWINDOW = 'EXCEPTION_IN_SUBWINDOW'\n\n// ID_TOKEN invalid\nexport const INVALID_ID_TOKEN = 'INVALID_ID_TOKEN'\n\n// event name for js-client bridge\nexport const LIFF_EVENT = 'liffEvent'\n\n// key of sessionStorage\nexport const STORE_KEY = 'LIFF_STORE'\n\n// Permanent Link URL origin\nexport const PERMANENT_LINK_ORIGIN = `https://liff.${SERVER_END_POINT}/`\n\n// sub key\nexport const STORE_OBJECT = {\n  ACCESS_TOKEN: 'accessToken',\n  DECODED_ID_TOKEN: 'decodedIDToken',\n  FEATURE_TOKEN: 'featureToken',\n  FEATURES: 'features',\n  LOGIN_TMP: 'loginTmp',\n  CONFIG: 'config',\n  CONTEXT: 'context',\n  EXPIRES: 'expires',\n}\n// DOM attribute used to distinguish elements created by LIFF\nexport const LIFF_ATTR_DOM = 'data-l-{0}'\n\n// attribute for subwindow\nexport enum ROUTER_MODE {\n  NONE = 'none',\n  HASH = 'hash',\n  HISTORY = 'history',\n}\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\r\n            t[p[i]] = s[p[i]];\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n","/**\n * Custom Liff Error with code & message\n * @param {string} code\n * @param {string} message\n */\n\nexport default class LiffError extends Error {\n  public code: string | number\n  public constructor(code: string | number, message: string) {\n    super(message)\n    this.code = code\n  }\n}\n","import LiffError from './LiffError'\n\n/**\n * create custom liff error\n * @param  {string}    code    [description]\n * @param  {string}    message [description]\n * @return {LiffError}         [description]\n */\nexport default function createError(code: string, message?: string): LiffError {\n  return new LiffError(code, message)\n}\n","import isInClient from '../common/isInClient'\nimport { STORE_KEY } from '../util/consts'\nimport { getConfig } from './index'\nimport createError from '../util/createError'\nimport { INVALID_CONFIG } from '../util/consts'\n\n/**\n * isInClient === true: sessionStorage setter\n * isInClient === false: localStroage setter\n * @export\n * @param {string} key\n * @return {*}\n */\nexport default function get(key: string): any {\n  const config = getConfig()\n  // [TODO] remove appId\n  const liffId = config.liffId\n  if (!liffId) {\n    throw createError(INVALID_CONFIG, 'liffId is necessary for liff.init()')\n  }\n  const store = isInClient() ? sessionStorage : localStorage\n  const rawData = store.getItem(`${STORE_KEY}:${liffId}:${key}`)\n  try {\n    return JSON.parse(rawData)\n  } catch {\n    return null\n  }\n}\n","import isInClient from '../common/isInClient'\nimport { STORE_KEY } from '../util/consts'\nimport { getConfig } from './index'\nimport createError from '../util/createError'\nimport { INVALID_CONFIG } from '../util/consts'\n\n/**\n * isInClient === true: sessionStorage setter\n * isInClient === false: localStroage setter\n * @export\n * @param {string} key\n * @param {*} value\n */\nexport default function set(key: string, value: any): void {\n  const config = getConfig()\n  // [TODO] remove appId\n  const liffId = config.liffId\n  if (!liffId) {\n    throw createError(INVALID_CONFIG, 'liffId is necessary for liff.init()')\n  }\n  const store = isInClient() ? sessionStorage : localStorage\n  store.setItem(`${STORE_KEY}:${liffId}:${key}`, JSON.stringify(value))\n}\n","import isInClient from '../common/isInClient'\nimport { STORE_KEY } from '../util/consts'\nimport { getConfig } from './index'\nimport createError from '../util/createError'\nimport { INVALID_CONFIG } from '../util/consts'\n\n/**\n * isInClient === true: sessionStorage\n * isInClient === false: localStroage\n * @export\n * @param {string} key\n * @param {*} value\n */\nexport default function remove(key: string): void {\n  const config = getConfig()\n  // [TODO] remove appId\n  const liffId = config.liffId\n  if (!liffId) {\n    throw createError(INVALID_CONFIG, 'liffId is necessary for liff.init()')\n  }\n  const store = isInClient() ? sessionStorage : localStorage\n  store.removeItem(`${STORE_KEY}:${liffId}:${key}`)\n}\n","import set from './set'\nimport get from './get'\nimport remove from './remove'\n\nexport default {\n  set,\n  get,\n  remove,\n}\n","/**\n * https://developer.mozilla.org/en-US/docs/Web/API/Document/cookie\n * @param {string}            key\n * @param {string | number}   value\n * @param {any}               [options]\n */\nexport default function set(\n  key: string,\n  value: string | number,\n  options?: any\n): void {\n  let cookie = key + '=' + value\n  if (options) {\n    for (let k in options) {\n      cookie += `; ${k}=${options[k]}`\n    }\n  }\n  console.log('set cookie', cookie)\n  document.cookie = cookie\n}\n","/**\n * https://developer.mozilla.org/en-US/docs/Web/API/Document/cookie\n * get cookie value by key\n * @param  {string} key\n * @return {string}\n */\nexport default function get(key: string): string {\n  const re = new RegExp(`(?:(?:^|.*;\\\\s*)${key}\\\\s*\\\\=\\\\s*([^;]*).*$)|^.*$`)\n  return document.cookie.replace(re, '$1')\n}\n","/**\n * https://developer.mozilla.org/en-US/docs/Web/API/Document/cookie\n * @param {string}            key\n * @param {any}               [options]\n */\nexport default function remove(key: string, options?: any): void {\n  let cookie = `${key}=; expires=Thu, 01 Jan 1970 00:00:00 GMT`\n  if (options) {\n    for (let k in options) {\n      cookie += `; ${k}=${options[k]}`\n    }\n  }\n  document.cookie = cookie\n}\n","import get from './get'\nimport set from './set'\nimport clean from './clean'\nimport remove from './remove'\nimport cookie from '../util/cookie'\nimport { STORE_KEY, STORE_OBJECT } from '../util/consts'\n\nexport default {\n  get,\n  set,\n  remove,\n  clean,\n}\n\n/**\n * helpers\n */\n\n/**\n * liff config getter / setter [memory]\n */\nlet config = null\nexport function getConfig(): any {\n  return config\n}\nexport function setConfig(value: any): void {\n  config = value\n}\n\n/**\n * features (string array of feature names) getter / setter [memory]\n */\nlet features = []\nexport function getFeatures(): string[] {\n  return features\n}\nexport function setFeatures(value: string[]): void {\n  features = value\n}\n\n/**\n * temporary values for LINE Login getter / setter\n */\nexport function getLoginTmp(): any {\n  return get(STORE_OBJECT.LOGIN_TMP)\n}\nexport function setLoginTmp(value: any): void {\n  set(STORE_OBJECT.LOGIN_TMP, value)\n}\nexport function removeLoginTmp(): void {\n  remove(STORE_OBJECT.LOGIN_TMP)\n}\n\n/**\n * accessToken getter / setter\n */\nexport function getAccessToken(): string | null {\n  return get(STORE_OBJECT.ACCESS_TOKEN)\n}\nexport function setAccessToken(value: string): void {\n  set(STORE_OBJECT.ACCESS_TOKEN, value)\n}\n/**\n * decodedIDToken getter / setter\n */\nexport function getDecodedIDToken(): any | null {\n  return get(STORE_OBJECT.DECODED_ID_TOKEN)\n}\nexport function setDecodedIDToken(value: any): void {\n  set(STORE_OBJECT.DECODED_ID_TOKEN, value)\n}\n/**\n * featureToken getter / setter\n */\nexport function getFeatureToken(): string | null {\n  return get(STORE_OBJECT.FEATURE_TOKEN)\n}\nexport function setFeatureToken(value: string): void {\n  set(STORE_OBJECT.FEATURE_TOKEN, value)\n}\n\n/**\n * context getter / setter\n */\ninterface Context {\n  type: 'utou' | 'room' | 'group' | 'none'\n  utouId?: string\n  roomId?: string\n  groupId: string\n  userId?: string\n  viewType?: string\n  accessTokenHash?: string\n}\nexport function getContext(): Context | null {\n  return get(STORE_OBJECT.CONTEXT)\n}\nexport function setContext(value: Context): void {\n  set(STORE_OBJECT.CONTEXT, value)\n}\n\n/**\n * special handle expire time in cookie\n */\nexport function setExpireTime(expires: Date): void {\n  const config = getConfig()\n  cookie.set(\n    `${STORE_KEY}:${STORE_OBJECT.EXPIRES}:${config.liffId}`,\n    expires.getTime(),\n    {\n      expires: expires.toUTCString(),\n      path: '/',\n    }\n  )\n}\nexport function getExpireTime(): string | null {\n  const config = getConfig()\n  return cookie.get(`${STORE_KEY}:${STORE_OBJECT.EXPIRES}:${config.liffId}`)\n}\nexport function removeExpireTime(): void {\n  const config = getConfig()\n  cookie.remove(`${STORE_KEY}:${STORE_OBJECT.EXPIRES}:${config.liffId}`, {\n    path: '/',\n  })\n}\n","import remove from './remove'\nimport { removeExpireTime } from './index'\nimport { STORE_OBJECT } from '../util/consts'\n\n/**\n * remove all stored data\n */\nexport default function clean(): void {\n  Object.keys(STORE_OBJECT).forEach(\n    (key): void => {\n      remove(STORE_OBJECT[key])\n    }\n  )\n  removeExpireTime()\n}\n","import createEvent from './createEvent'\nimport createError from '../../util/createError'\nimport { INVALID_ARGUMENT } from '../../util/consts'\n\n/**\n * Wrap window.dispatchEevent\n * Expose `window.liff._dispatchEvent()` for client to interact with js\n * @param {string} json\n */\nexport default function dispatch(json: string): void {\n  let detail = {}\n  try {\n    detail = JSON.parse(json)\n  } catch (e) {\n    throw createError(INVALID_ARGUMENT, e.message)\n  }\n  const event = createEvent(detail)\n  window._log('[client dispatchEvent to js]', {\n    type: event.type,\n    detail: event.detail,\n  })\n  window.dispatchEvent(event)\n}\n","import './customEventPolyFill'\nimport { LIFF_EVENT } from '../../util/consts'\n\nexport default function createEvent(detail: any): CustomEvent {\n  return new CustomEvent(LIFF_EVENT, { detail })\n}\n","export { default as createEvent } from './createEvent'\nexport { default as addListener } from './addListener'\nexport { default as removeListener } from './removeListener'\nexport { default as dispatch } from './dispatch'\nexport { default as postMessage } from './postMessage'\nexport { default as call } from './call'\n","/**\n * Detect whether is in LINE client\n * @export\n * @returns {boolean}\n */\nexport default function isInClient(): boolean {\n  return !!(window._liff && window._liff.postMessage)\n}\n","import { LIFF_EVENT } from '../../util/consts'\n\nexport const callbacks = {}\nlet isListenerInited = false\n\n/**\n * Initial browser listener to LIFF_EVENT for the first time.\n */\nfunction initListener(): void {\n  window.addEventListener(\n    LIFF_EVENT,\n    (e: CustomEvent): void => {\n      if (e && e.detail && e.detail.type && callbacks[e.detail.type]) {\n        callbacks[e.detail.type].forEach((callback): void => callback(e))\n      }\n    }\n  )\n}\n\ntype ClientCallback = (e: CustomEvent) => void\n\n/**\n * Add callback to LIFFEvent listener.\n * @export\n * @param {string} type\n * @param {ClientCallback} callback\n */\nexport default function addListener(\n  type: string,\n  callback: ClientCallback\n): void {\n  if (!isListenerInited) {\n    isListenerInited = true\n    initListener()\n  }\n  if (callbacks[type]) {\n    callbacks[type].push(callback)\n  } else {\n    callbacks[type] = [callback]\n  }\n}\n","import hexToBase64 from './hexToBase64'\n/**\n * return random base64 hash string\n */\n/**\n * return random base64 hex string\n * @param  {number} length [length of sting]\n * @return {string}        [base64 hex]\n */\nexport default function randomBase64Hash(length: number = 0): string {\n  let hash = ''\n  const count: number = Math.ceil(length / 12)\n  for (let i: number = count; i > 0; i--) {\n    hash = hash + '' + Math.random()\n  }\n  hash = hexToBase64(hash).substr(0, length)\n  return hash\n}\n","import { getFeatures } from '../store'\n\n/**\n * checkFeature()\n * Check whether the promission of the feature is approved\n * @param  {string}  feature [name of feature]\n * @return {boolean}\n */\nexport default function checkFeature(feature: string): boolean {\n  return getFeatures().indexOf(feature) > -1\n}\n","import { callbacks } from './addListener'\n\n/**\n * Remove callback from LIFFEvent listener.\n * @param {string}   type     [description]\n * @param {Function} callback [description]\n */\nexport default function removeListener(type: string, callback: Function): void {\n  const _callbacks = callbacks[type]\n  if (_callbacks && Array.isArray(_callbacks)) {\n    const indexToBeRemoved = _callbacks.indexOf(callback)\n    if (indexToBeRemoved >= 0) {\n      _callbacks.splice(indexToBeRemoved, 1)\n    }\n  }\n}\n","import { getFeatureToken } from '../../store'\nimport createError from '../../util/createError'\nimport { FORBIDDEN, INVALID_ARGUMENT } from '../../util/consts'\n\n/**\n * Wrappper of window._liff.postMessage\n * @export\n * @param {string} type             - name of message to client\n * @param {{}} [params={}]          - object data sent to client\n * @param {string} [callbackId='']  - callbackId to identify client callback\n */\nexport default function postMessage(\n  type: string,\n  params: {} = {},\n  callbackId: string = ''\n): void {\n  // check whether feature token exists\n  const featureToken = getFeatureToken()\n  if (!featureToken) {\n    throw createError(FORBIDDEN, 'Invalid featureToken for client features')\n  }\n  if (!window._liff && window._liff.postMessage) {\n    throw createError(\n      INVALID_ARGUMENT,\n      'postMessage is not avaliable from client'\n    )\n  }\n\n  window._log('[js postMessage to client]', type, callbackId, params)\n\n  window._liff.postMessage(\n    type,\n    featureToken,\n    callbackId,\n    JSON.stringify(params)\n  )\n}\n","/**\n * @this {Promise}\n */\nfunction finallyConstructor(callback) {\n  var constructor = this.constructor;\n  return this.then(\n    function(value) {\n      return constructor.resolve(callback()).then(function() {\n        return value;\n      });\n    },\n    function(reason) {\n      return constructor.resolve(callback()).then(function() {\n        return constructor.reject(reason);\n      });\n    }\n  );\n}\n\nexport default finallyConstructor;\n","/**\n * Hex to Base64\n * copied from https://gist.github.com/GeorgioWan/16a7ad2a255e8d5c7ed1aca3ab4aacec\n * @param  {string} str [hex]\n * @return {string}     [base64]\n */\nexport default function hexToBase64(hex: string = ''): string {\n  let result = ''\n  hex\n    .replace(/\\r|\\n/g, '')\n    .replace(/([\\da-fA-F]{2}) ?/g, '0x$1 ')\n    .replace(/ +$/, '')\n    .split(' ')\n    .forEach(\n      (i: string): void => {\n        result += String.fromCharCode(parseInt(i))\n      }\n    )\n  return window.btoa(result)\n}\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","import addListener from './addListener'\nimport removeListener from './removeListener'\nimport postMessage from './postMessage'\nimport { getFeatureToken } from '../../store'\nimport randomBase64Hash from '../../util/randomBase64Hash'\nimport createError from '../../util/createError'\nimport { FORBIDDEN } from '../../util/consts'\n\n/**\n * call()\n * Let js pass event and data to client\n * and wait for callback\n * @export\n * @param {string} type        - name of event\n * @param {*} [params={}]      - data object to pass to client\n * @param {{                   - options\n *     callbackId?: string        - use randomly string by default, use `''` if client needs\n *     once?: boolean             - will remove listener once callback is fired if is true\n *   }} [options={\n *     once: true,\n *   }]\n * @returns {Promise<any>}\n */\nexport default function call(\n  type: string,\n  params: any = {},\n  options: {\n    callbackId?: string\n    once?: boolean\n  } = {\n    once: true,\n  }\n): Promise<any> {\n  // check whether feature token exists\n  const featureToken = getFeatureToken()\n  if (!featureToken) {\n    return Promise.reject(\n      createError(FORBIDDEN, 'Invalid featureToken for client features')\n    )\n  }\n\n  options = {\n    callbackId: randomBase64Hash(12),\n    once: true,\n    ...options,\n  }\n\n  return new Promise(\n    (resolve, reject): void => {\n      const callbackHandler = (e: CustomEvent): void => {\n        if (e && e.detail) {\n          // callbackId exist, then match. if not, just exec\n          const { callbackId } = e.detail\n          const hasCorrespondingCallbackId = callbackId === options.callbackId\n          const callbackIdIsNotSet = typeof e.detail.callbackId !== 'string'\n          if (hasCorrespondingCallbackId || callbackIdIsNotSet) {\n            if (options.once) {\n              removeListener(type, callbackHandler)\n            }\n            window._log('[callback detail]', e.detail)\n            if (e.detail.error) {\n              reject(e.detail.error)\n            } else if (e.detail.data) {\n              resolve(e.detail.data)\n            } else {\n              reject(e.detail)\n            }\n          }\n        }\n      }\n\n      addListener(type, callbackHandler)\n      postMessage(type, params, options.callbackId)\n    }\n  )\n}\n","import promiseFinally from './finally';\n\n// Store setTimeout reference so promise-polyfill will be unaffected by\n// other code modifying setTimeout (like sinon.useFakeTimers())\nvar setTimeoutFunc = setTimeout;\n\nfunction noop() {}\n\n// Polyfill for Function.prototype.bind\nfunction bind(fn, thisArg) {\n  return function() {\n    fn.apply(thisArg, arguments);\n  };\n}\n\n/**\n * @constructor\n * @param {Function} fn\n */\nfunction Promise(fn) {\n  if (!(this instanceof Promise))\n    throw new TypeError('Promises must be constructed via new');\n  if (typeof fn !== 'function') throw new TypeError('not a function');\n  /** @type {!number} */\n  this._state = 0;\n  /** @type {!boolean} */\n  this._handled = false;\n  /** @type {Promise|undefined} */\n  this._value = undefined;\n  /** @type {!Array<!Function>} */\n  this._deferreds = [];\n\n  doResolve(fn, this);\n}\n\nfunction handle(self, deferred) {\n  while (self._state === 3) {\n    self = self._value;\n  }\n  if (self._state === 0) {\n    self._deferreds.push(deferred);\n    return;\n  }\n  self._handled = true;\n  Promise._immediateFn(function() {\n    var cb = self._state === 1 ? deferred.onFulfilled : deferred.onRejected;\n    if (cb === null) {\n      (self._state === 1 ? resolve : reject)(deferred.promise, self._value);\n      return;\n    }\n    var ret;\n    try {\n      ret = cb(self._value);\n    } catch (e) {\n      reject(deferred.promise, e);\n      return;\n    }\n    resolve(deferred.promise, ret);\n  });\n}\n\nfunction resolve(self, newValue) {\n  try {\n    // Promise Resolution Procedure: https://github.com/promises-aplus/promises-spec#the-promise-resolution-procedure\n    if (newValue === self)\n      throw new TypeError('A promise cannot be resolved with itself.');\n    if (\n      newValue &&\n      (typeof newValue === 'object' || typeof newValue === 'function')\n    ) {\n      var then = newValue.then;\n      if (newValue instanceof Promise) {\n        self._state = 3;\n        self._value = newValue;\n        finale(self);\n        return;\n      } else if (typeof then === 'function') {\n        doResolve(bind(then, newValue), self);\n        return;\n      }\n    }\n    self._state = 1;\n    self._value = newValue;\n    finale(self);\n  } catch (e) {\n    reject(self, e);\n  }\n}\n\nfunction reject(self, newValue) {\n  self._state = 2;\n  self._value = newValue;\n  finale(self);\n}\n\nfunction finale(self) {\n  if (self._state === 2 && self._deferreds.length === 0) {\n    Promise._immediateFn(function() {\n      if (!self._handled) {\n        Promise._unhandledRejectionFn(self._value);\n      }\n    });\n  }\n\n  for (var i = 0, len = self._deferreds.length; i < len; i++) {\n    handle(self, self._deferreds[i]);\n  }\n  self._deferreds = null;\n}\n\n/**\n * @constructor\n */\nfunction Handler(onFulfilled, onRejected, promise) {\n  this.onFulfilled = typeof onFulfilled === 'function' ? onFulfilled : null;\n  this.onRejected = typeof onRejected === 'function' ? onRejected : null;\n  this.promise = promise;\n}\n\n/**\n * Take a potentially misbehaving resolver function and make sure\n * onFulfilled and onRejected are only called once.\n *\n * Makes no guarantees about asynchrony.\n */\nfunction doResolve(fn, self) {\n  var done = false;\n  try {\n    fn(\n      function(value) {\n        if (done) return;\n        done = true;\n        resolve(self, value);\n      },\n      function(reason) {\n        if (done) return;\n        done = true;\n        reject(self, reason);\n      }\n    );\n  } catch (ex) {\n    if (done) return;\n    done = true;\n    reject(self, ex);\n  }\n}\n\nPromise.prototype['catch'] = function(onRejected) {\n  return this.then(null, onRejected);\n};\n\nPromise.prototype.then = function(onFulfilled, onRejected) {\n  // @ts-ignore\n  var prom = new this.constructor(noop);\n\n  handle(this, new Handler(onFulfilled, onRejected, prom));\n  return prom;\n};\n\nPromise.prototype['finally'] = promiseFinally;\n\nPromise.all = function(arr) {\n  return new Promise(function(resolve, reject) {\n    if (!arr || typeof arr.length === 'undefined')\n      throw new TypeError('Promise.all accepts an array');\n    var args = Array.prototype.slice.call(arr);\n    if (args.length === 0) return resolve([]);\n    var remaining = args.length;\n\n    function res(i, val) {\n      try {\n        if (val && (typeof val === 'object' || typeof val === 'function')) {\n          var then = val.then;\n          if (typeof then === 'function') {\n            then.call(\n              val,\n              function(val) {\n                res(i, val);\n              },\n              reject\n            );\n            return;\n          }\n        }\n        args[i] = val;\n        if (--remaining === 0) {\n          resolve(args);\n        }\n      } catch (ex) {\n        reject(ex);\n      }\n    }\n\n    for (var i = 0; i < args.length; i++) {\n      res(i, args[i]);\n    }\n  });\n};\n\nPromise.resolve = function(value) {\n  if (value && typeof value === 'object' && value.constructor === Promise) {\n    return value;\n  }\n\n  return new Promise(function(resolve) {\n    resolve(value);\n  });\n};\n\nPromise.reject = function(value) {\n  return new Promise(function(resolve, reject) {\n    reject(value);\n  });\n};\n\nPromise.race = function(values) {\n  return new Promise(function(resolve, reject) {\n    for (var i = 0, len = values.length; i < len; i++) {\n      values[i].then(resolve, reject);\n    }\n  });\n};\n\n// Use polyfill for setImmediate for performance gains\nPromise._immediateFn =\n  (typeof setImmediate === 'function' &&\n    function(fn) {\n      setImmediate(fn);\n    }) ||\n  function(fn) {\n    setTimeoutFunc(fn, 0);\n  };\n\nPromise._unhandledRejectionFn = function _unhandledRejectionFn(err) {\n  if (typeof console !== 'undefined' && console) {\n    console.warn('Possible Unhandled Promise Rejection:', err); // eslint-disable-line no-console\n  }\n};\n\nexport default Promise;\n","(function (global, factory) {\r\n\tif (typeof define === 'function' && define.amd) {\r\n\t\tdefine([], factory);\r\n\t} else if (typeof module !== 'undefined' && module.exports){\r\n\t\tmodule.exports = factory();\r\n\t} else {\r\n\t\tglobal.sha256 = factory();\r\n\t}\r\n})(this, function () {\r\n\r\nvar sha256 = function sha256(ascii) {\r\n\tfunction rightRotate(value, amount) {\r\n\t\treturn (value>>>amount) | (value<<(32 - amount));\r\n\t};\r\n\t\r\n\tvar mathPow = Math.pow;\r\n\tvar maxWord = mathPow(2, 32);\r\n\tvar lengthProperty = 'length';\r\n\tvar i, j; // Used as a counter across the whole file\r\n\tvar result = '';\r\n\r\n\tvar words = [];\r\n\tvar asciiBitLength = ascii[lengthProperty]*8;\r\n\t\r\n\t//* caching results is optional - remove/add slash from front of this line to toggle\r\n\t// Initial hash value: first 32 bits of the fractional parts of the square roots of the first 8 primes\r\n\t// (we actually calculate the first 64, but extra values are just ignored)\r\n\tvar hash = sha256.h = sha256.h || [];\r\n\t// Round constants: first 32 bits of the fractional parts of the cube roots of the first 64 primes\r\n\tvar k = sha256.k = sha256.k || [];\r\n\tvar primeCounter = k[lengthProperty];\r\n\t/*/\r\n\tvar hash = [], k = [];\r\n\tvar primeCounter = 0;\r\n\t//*/\r\n\r\n\tvar isComposite = {};\r\n\tfor (var candidate = 2; primeCounter < 64; candidate++) {\r\n\t\tif (!isComposite[candidate]) {\r\n\t\t\tfor (i = 0; i < 313; i += candidate) {\r\n\t\t\t\tisComposite[i] = candidate;\r\n\t\t\t}\r\n\t\t\thash[primeCounter] = (mathPow(candidate, .5)*maxWord)|0;\r\n\t\t\tk[primeCounter++] = (mathPow(candidate, 1/3)*maxWord)|0;\r\n\t\t}\r\n\t}\r\n\t\r\n\tascii += '\\x80'; // Append '1' bit (plus zero padding)\r\n\twhile (ascii[lengthProperty]%64 - 56) ascii += '\\x00'; // More zero padding\r\n\tfor (i = 0; i < ascii[lengthProperty]; i++) {\r\n\t\tj = ascii.charCodeAt(i);\r\n\t\tif (j>>8) return; // ASCII check: only accept characters in range 0-255\r\n\t\twords[i>>2] |= j << ((3 - i)%4)*8;\r\n\t}\r\n\twords[words[lengthProperty]] = ((asciiBitLength/maxWord)|0);\r\n\twords[words[lengthProperty]] = (asciiBitLength)\r\n\t\r\n\t// process each chunk\r\n\tfor (j = 0; j < words[lengthProperty];) {\r\n\t\tvar w = words.slice(j, j += 16); // The message is expanded into 64 words as part of the iteration\r\n\t\tvar oldHash = hash;\r\n\t\t// This is now the \"working hash\", often labelled as variables a...g\r\n\t\t// (we have to truncate as well, otherwise extra entries at the end accumulate\r\n\t\thash = hash.slice(0, 8);\r\n\t\t\r\n\t\tfor (i = 0; i < 64; i++) {\r\n\t\t\tvar i2 = i + j;\r\n\t\t\t// Expand the message into 64 words\r\n\t\t\t// Used below if \r\n\t\t\tvar w15 = w[i - 15], w2 = w[i - 2];\r\n\r\n\t\t\t// Iterate\r\n\t\t\tvar a = hash[0], e = hash[4];\r\n\t\t\tvar temp1 = hash[7]\r\n\t\t\t\t+ (rightRotate(e, 6) ^ rightRotate(e, 11) ^ rightRotate(e, 25)) // S1\r\n\t\t\t\t+ ((e&hash[5])^((~e)&hash[6])) // ch\r\n\t\t\t\t+ k[i]\r\n\t\t\t\t// Expand the message schedule if needed\r\n\t\t\t\t+ (w[i] = (i < 16) ? w[i] : (\r\n\t\t\t\t\t\tw[i - 16]\r\n\t\t\t\t\t\t+ (rightRotate(w15, 7) ^ rightRotate(w15, 18) ^ (w15>>>3)) // s0\r\n\t\t\t\t\t\t+ w[i - 7]\r\n\t\t\t\t\t\t+ (rightRotate(w2, 17) ^ rightRotate(w2, 19) ^ (w2>>>10)) // s1\r\n\t\t\t\t\t)|0\r\n\t\t\t\t);\r\n\t\t\t// This is only used once, so *could* be moved below, but it only saves 4 bytes and makes things unreadble\r\n\t\t\tvar temp2 = (rightRotate(a, 2) ^ rightRotate(a, 13) ^ rightRotate(a, 22)) // S0\r\n\t\t\t\t+ ((a&hash[1])^(a&hash[2])^(hash[1]&hash[2])); // maj\r\n\t\t\t\r\n\t\t\thash = [(temp1 + temp2)|0].concat(hash); // We don't bother trimming off the extra ones, they're harmless as long as we're truncating when we do the slice()\r\n\t\t\thash[4] = (hash[4] + temp1)|0;\r\n\t\t}\r\n\t\t\r\n\t\tfor (i = 0; i < 8; i++) {\r\n\t\t\thash[i] = (hash[i] + oldHash[i])|0;\r\n\t\t}\r\n\t}\r\n\t\r\n\tfor (i = 0; i < 8; i++) {\r\n\t\tfor (j = 3; j + 1; j--) {\r\n\t\t\tvar b = (hash[i]>>(j*8))&255;\r\n\t\t\tresult += ((b < 16) ? 0 : '') + b.toString(16);\r\n\t\t}\r\n\t}\r\n\treturn result;\r\n};\r\n\r\n\r\nsha256.code = \"var sha256=function a(b){function c(a,b){return a>>>b|a<<32-b}for(var d,e,f=Math.pow,g=f(2,32),h=\\\"length\\\",i=\\\"\\\",j=[],k=8*b[h],l=a.h=a.h||[],m=a.k=a.k||[],n=m[h],o={},p=2;64>n;p++)if(!o[p]){for(d=0;313>d;d+=p)o[d]=p;l[n]=f(p,.5)*g|0,m[n++]=f(p,1/3)*g|0}for(b+=\\\"\\\\x80\\\";b[h]%64-56;)b+=\\\"\\\\x00\\\";for(d=0;d<b[h];d++){if(e=b.charCodeAt(d),e>>8)return;j[d>>2]|=e<<(3-d)%4*8}for(j[j[h]]=k/g|0,j[j[h]]=k,e=0;e<j[h];){var q=j.slice(e,e+=16),r=l;for(l=l.slice(0,8),d=0;64>d;d++){var s=q[d-15],t=q[d-2],u=l[0],v=l[4],w=l[7]+(c(v,6)^c(v,11)^c(v,25))+(v&l[5]^~v&l[6])+m[d]+(q[d]=16>d?q[d]:q[d-16]+(c(s,7)^c(s,18)^s>>>3)+q[d-7]+(c(t,17)^c(t,19)^t>>>10)|0),x=(c(u,2)^c(u,13)^c(u,22))+(u&l[1]^u&l[2]^l[1]&l[2]);l=[w+x|0].concat(l),l[4]=l[4]+w|0}for(d=0;8>d;d++)l[d]=l[d]+r[d]|0}for(d=0;8>d;d++)for(e=3;e+1;e--){var y=l[d]>>8*e&255;i+=(16>y?0:\\\"\\\")+y.toString(16)}return i};\";\r\n\r\nreturn sha256;\r\n\r\n});","import Promise from './index';\nimport promiseFinally from './finally';\n\n/** @suppress {undefinedVars} */\nvar globalNS = (function() {\n  // the only reliable means to get the global object is\n  // `Function('return this')()`\n  // However, this causes CSP violations in Chrome apps.\n  if (typeof self !== 'undefined') {\n    return self;\n  }\n  if (typeof window !== 'undefined') {\n    return window;\n  }\n  if (typeof global !== 'undefined') {\n    return global;\n  }\n  throw new Error('unable to locate global object');\n})();\n\nif (!('Promise' in globalNS)) {\n  globalNS['Promise'] = Promise;\n} else if (!globalNS.Promise.prototype['finally']) {\n  globalNS.Promise.prototype['finally'] = promiseFinally;\n}\n","var scope = (typeof global !== \"undefined\" && global) ||\n            (typeof self !== \"undefined\" && self) ||\n            window;\nvar apply = Function.prototype.apply;\n\n// DOM APIs, for completeness\n\nexports.setTimeout = function() {\n  return new Timeout(apply.call(setTimeout, scope, arguments), clearTimeout);\n};\nexports.setInterval = function() {\n  return new Timeout(apply.call(setInterval, scope, arguments), clearInterval);\n};\nexports.clearTimeout =\nexports.clearInterval = function(timeout) {\n  if (timeout) {\n    timeout.close();\n  }\n};\n\nfunction Timeout(id, clearFn) {\n  this._id = id;\n  this._clearFn = clearFn;\n}\nTimeout.prototype.unref = Timeout.prototype.ref = function() {};\nTimeout.prototype.close = function() {\n  this._clearFn.call(scope, this._id);\n};\n\n// Does not start the time, just sets up the members needed.\nexports.enroll = function(item, msecs) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = msecs;\n};\n\nexports.unenroll = function(item) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = -1;\n};\n\nexports._unrefActive = exports.active = function(item) {\n  clearTimeout(item._idleTimeoutId);\n\n  var msecs = item._idleTimeout;\n  if (msecs >= 0) {\n    item._idleTimeoutId = setTimeout(function onTimeout() {\n      if (item._onTimeout)\n        item._onTimeout();\n    }, msecs);\n  }\n};\n\n// setimmediate attaches itself to the global object\nrequire(\"setimmediate\");\n// On some exotic environments, it's not clear which object `setimmediate` was\n// able to install onto.  Search each possibility in the same order as the\n// `setimmediate` library.\nexports.setImmediate = (typeof self !== \"undefined\" && self.setImmediate) ||\n                       (typeof global !== \"undefined\" && global.setImmediate) ||\n                       (this && this.setImmediate);\nexports.clearImmediate = (typeof self !== \"undefined\" && self.clearImmediate) ||\n                         (typeof global !== \"undefined\" && global.clearImmediate) ||\n                         (this && this.clearImmediate);\n","(function (global, undefined) {\n    \"use strict\";\n\n    if (global.setImmediate) {\n        return;\n    }\n\n    var nextHandle = 1; // Spec says greater than zero\n    var tasksByHandle = {};\n    var currentlyRunningATask = false;\n    var doc = global.document;\n    var registerImmediate;\n\n    function setImmediate(callback) {\n      // Callback can either be a function or a string\n      if (typeof callback !== \"function\") {\n        callback = new Function(\"\" + callback);\n      }\n      // Copy function arguments\n      var args = new Array(arguments.length - 1);\n      for (var i = 0; i < args.length; i++) {\n          args[i] = arguments[i + 1];\n      }\n      // Store and register the task\n      var task = { callback: callback, args: args };\n      tasksByHandle[nextHandle] = task;\n      registerImmediate(nextHandle);\n      return nextHandle++;\n    }\n\n    function clearImmediate(handle) {\n        delete tasksByHandle[handle];\n    }\n\n    function run(task) {\n        var callback = task.callback;\n        var args = task.args;\n        switch (args.length) {\n        case 0:\n            callback();\n            break;\n        case 1:\n            callback(args[0]);\n            break;\n        case 2:\n            callback(args[0], args[1]);\n            break;\n        case 3:\n            callback(args[0], args[1], args[2]);\n            break;\n        default:\n            callback.apply(undefined, args);\n            break;\n        }\n    }\n\n    function runIfPresent(handle) {\n        // From the spec: \"Wait until any invocations of this algorithm started before this one have completed.\"\n        // So if we're currently running a task, we'll need to delay this invocation.\n        if (currentlyRunningATask) {\n            // Delay by doing a setTimeout. setImmediate was tried instead, but in Firefox 7 it generated a\n            // \"too much recursion\" error.\n            setTimeout(runIfPresent, 0, handle);\n        } else {\n            var task = tasksByHandle[handle];\n            if (task) {\n                currentlyRunningATask = true;\n                try {\n                    run(task);\n                } finally {\n                    clearImmediate(handle);\n                    currentlyRunningATask = false;\n                }\n            }\n        }\n    }\n\n    function installNextTickImplementation() {\n        registerImmediate = function(handle) {\n            process.nextTick(function () { runIfPresent(handle); });\n        };\n    }\n\n    function canUsePostMessage() {\n        // The test against `importScripts` prevents this implementation from being installed inside a web worker,\n        // where `global.postMessage` means something completely different and can't be used for this purpose.\n        if (global.postMessage && !global.importScripts) {\n            var postMessageIsAsynchronous = true;\n            var oldOnMessage = global.onmessage;\n            global.onmessage = function() {\n                postMessageIsAsynchronous = false;\n            };\n            global.postMessage(\"\", \"*\");\n            global.onmessage = oldOnMessage;\n            return postMessageIsAsynchronous;\n        }\n    }\n\n    function installPostMessageImplementation() {\n        // Installs an event handler on `global` for the `message` event: see\n        // * https://developer.mozilla.org/en/DOM/window.postMessage\n        // * http://www.whatwg.org/specs/web-apps/current-work/multipage/comms.html#crossDocumentMessages\n\n        var messagePrefix = \"setImmediate$\" + Math.random() + \"$\";\n        var onGlobalMessage = function(event) {\n            if (event.source === global &&\n                typeof event.data === \"string\" &&\n                event.data.indexOf(messagePrefix) === 0) {\n                runIfPresent(+event.data.slice(messagePrefix.length));\n            }\n        };\n\n        if (global.addEventListener) {\n            global.addEventListener(\"message\", onGlobalMessage, false);\n        } else {\n            global.attachEvent(\"onmessage\", onGlobalMessage);\n        }\n\n        registerImmediate = function(handle) {\n            global.postMessage(messagePrefix + handle, \"*\");\n        };\n    }\n\n    function installMessageChannelImplementation() {\n        var channel = new MessageChannel();\n        channel.port1.onmessage = function(event) {\n            var handle = event.data;\n            runIfPresent(handle);\n        };\n\n        registerImmediate = function(handle) {\n            channel.port2.postMessage(handle);\n        };\n    }\n\n    function installReadyStateChangeImplementation() {\n        var html = doc.documentElement;\n        registerImmediate = function(handle) {\n            // Create a <script> element; its readystatechange event will be fired asynchronously once it is inserted\n            // into the document. Do so, thus queuing up the task. Remember to clean up once it's been called.\n            var script = doc.createElement(\"script\");\n            script.onreadystatechange = function () {\n                runIfPresent(handle);\n                script.onreadystatechange = null;\n                html.removeChild(script);\n                script = null;\n            };\n            html.appendChild(script);\n        };\n    }\n\n    function installSetTimeoutImplementation() {\n        registerImmediate = function(handle) {\n            setTimeout(runIfPresent, 0, handle);\n        };\n    }\n\n    // If supported, we should attach to the prototype of global, since that is where setTimeout et al. live.\n    var attachTo = Object.getPrototypeOf && Object.getPrototypeOf(global);\n    attachTo = attachTo && attachTo.setTimeout ? attachTo : global;\n\n    // Don't get fooled by e.g. browserify environments.\n    if ({}.toString.call(global.process) === \"[object process]\") {\n        // For Node.js before 0.9\n        installNextTickImplementation();\n\n    } else if (canUsePostMessage()) {\n        // For non-IE10 modern browsers\n        installPostMessageImplementation();\n\n    } else if (global.MessageChannel) {\n        // For web workers, where supported\n        installMessageChannelImplementation();\n\n    } else if (doc && \"onreadystatechange\" in doc.createElement(\"script\")) {\n        // For IE 6–8\n        installReadyStateChangeImplementation();\n\n    } else {\n        // For older browsers\n        installSetTimeoutImplementation();\n    }\n\n    attachTo.setImmediate = setImmediate;\n    attachTo.clearImmediate = clearImmediate;\n}(typeof self === \"undefined\" ? typeof global === \"undefined\" ? this : global : self));\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","/**\n * @file Web Cryptography API shim\n * @author Artem S Vybornov <vybornov@gmail.com>\n * @license MIT\n */\n(function (global, factory) {\n    if (typeof define === 'function' && define.amd) {\n        // AMD. Register as an anonymous module.\n        define([], function () {\n            return factory(global);\n        });\n    } else if (typeof module === 'object' && module.exports) {\n        // CommonJS-like environments that support module.exports\n        module.exports = factory(global);\n    } else {\n        factory(global);\n    }\n}(typeof self !== 'undefined' ? self : this, function (global) {\n    'use strict';\n\n    if ( typeof Promise !== 'function' )\n        throw \"Promise support required\";\n\n    var _crypto = global.crypto || global.msCrypto;\n    if ( !_crypto ) return;\n\n    var _subtle = _crypto.subtle || _crypto.webkitSubtle;\n    if ( !_subtle ) return;\n\n    var _Crypto     = global.Crypto || _crypto.constructor || Object,\n        _SubtleCrypto = global.SubtleCrypto || _subtle.constructor || Object,\n        _CryptoKey  = global.CryptoKey || global.Key || Object;\n\n    var isEdge = global.navigator.userAgent.indexOf('Edge/') > -1;\n    var isIE    = !!global.msCrypto && !isEdge;\n    var isWebkit = !_crypto.subtle && !!_crypto.webkitSubtle;\n    if ( !isIE && !isWebkit ) return;\n\n    function s2a ( s ) {\n        return btoa(s).replace(/\\=+$/, '').replace(/\\+/g, '-').replace(/\\//g, '_');\n    }\n\n    function a2s ( s ) {\n        s += '===', s = s.slice( 0, -s.length % 4 );\n        return atob( s.replace(/-/g, '+').replace(/_/g, '/') );\n    }\n\n    function s2b ( s ) {\n        var b = new Uint8Array(s.length);\n        for ( var i = 0; i < s.length; i++ ) b[i] = s.charCodeAt(i);\n        return b;\n    }\n\n    function b2s ( b ) {\n        if ( b instanceof ArrayBuffer ) b = new Uint8Array(b);\n        return String.fromCharCode.apply( String, b );\n    }\n\n    function alg ( a ) {\n        var r = { 'name': (a.name || a || '').toUpperCase().replace('V','v') };\n        switch ( r.name ) {\n            case 'SHA-1':\n            case 'SHA-256':\n            case 'SHA-384':\n            case 'SHA-512':\n                break;\n            case 'AES-CBC':\n            case 'AES-GCM':\n            case 'AES-KW':\n                if ( a.length ) r['length'] = a.length;\n                break;\n            case 'HMAC':\n                if ( a.hash ) r['hash'] = alg(a.hash);\n                if ( a.length ) r['length'] = a.length;\n                break;\n            case 'RSAES-PKCS1-v1_5':\n                if ( a.publicExponent ) r['publicExponent'] = new Uint8Array(a.publicExponent);\n                if ( a.modulusLength ) r['modulusLength'] = a.modulusLength;\n                break;\n            case 'RSASSA-PKCS1-v1_5':\n            case 'RSA-OAEP':\n                if ( a.hash ) r['hash'] = alg(a.hash);\n                if ( a.publicExponent ) r['publicExponent'] = new Uint8Array(a.publicExponent);\n                if ( a.modulusLength ) r['modulusLength'] = a.modulusLength;\n                break;\n            default:\n                throw new SyntaxError(\"Bad algorithm name\");\n        }\n        return r;\n    };\n\n    function jwkAlg ( a ) {\n        return {\n            'HMAC': {\n                'SHA-1': 'HS1',\n                'SHA-256': 'HS256',\n                'SHA-384': 'HS384',\n                'SHA-512': 'HS512',\n            },\n            'RSASSA-PKCS1-v1_5': {\n                'SHA-1': 'RS1',\n                'SHA-256': 'RS256',\n                'SHA-384': 'RS384',\n                'SHA-512': 'RS512',\n            },\n            'RSAES-PKCS1-v1_5': {\n                '': 'RSA1_5',\n            },\n            'RSA-OAEP': {\n                'SHA-1': 'RSA-OAEP',\n                'SHA-256': 'RSA-OAEP-256',\n            },\n            'AES-KW': {\n                '128': 'A128KW',\n                '192': 'A192KW',\n                '256': 'A256KW',\n            },\n            'AES-GCM': {\n                '128': 'A128GCM',\n                '192': 'A192GCM',\n                '256': 'A256GCM',\n            },\n            'AES-CBC': {\n                '128': 'A128CBC',\n                '192': 'A192CBC',\n                '256': 'A256CBC',\n            },\n        }[a.name][ ( a.hash || {} ).name || a.length || '' ];\n    }\n\n    function b2jwk ( k ) {\n        if ( k instanceof ArrayBuffer || k instanceof Uint8Array ) k = JSON.parse( decodeURIComponent( escape( b2s(k) ) ) );\n        var jwk = { 'kty': k.kty, 'alg': k.alg, 'ext': k.ext || k.extractable };\n        switch ( jwk.kty ) {\n            case 'oct':\n                jwk.k = k.k;\n            case 'RSA':\n                [ 'n', 'e', 'd', 'p', 'q', 'dp', 'dq', 'qi', 'oth' ].forEach( function ( x ) { if ( x in k ) jwk[x] = k[x] } );\n                break;\n            default:\n                throw new TypeError(\"Unsupported key type\");\n        }\n        return jwk;\n    }\n\n    function jwk2b ( k ) {\n        var jwk = b2jwk(k);\n        if ( isIE ) jwk['extractable'] = jwk.ext, delete jwk.ext;\n        return s2b( unescape( encodeURIComponent( JSON.stringify(jwk) ) ) ).buffer;\n    }\n\n    function pkcs2jwk ( k ) {\n        var info = b2der(k), prv = false;\n        if ( info.length > 2 ) prv = true, info.shift(); // remove version from PKCS#8 PrivateKeyInfo structure\n        var jwk = { 'ext': true };\n        switch ( info[0][0] ) {\n            case '1.2.840.113549.1.1.1':\n                var rsaComp = [ 'n', 'e', 'd', 'p', 'q', 'dp', 'dq', 'qi' ],\n                    rsaKey  = b2der( info[1] );\n                if ( prv ) rsaKey.shift(); // remove version from PKCS#1 RSAPrivateKey structure\n                for ( var i = 0; i < rsaKey.length; i++ ) {\n                    if ( !rsaKey[i][0] ) rsaKey[i] = rsaKey[i].subarray(1);\n                    jwk[ rsaComp[i] ] = s2a( b2s( rsaKey[i] ) );\n                }\n                jwk['kty'] = 'RSA';\n                break;\n            default:\n                throw new TypeError(\"Unsupported key type\");\n        }\n        return jwk;\n    }\n\n    function jwk2pkcs ( k ) {\n        var key, info = [ [ '', null ] ], prv = false;\n        switch ( k.kty ) {\n            case 'RSA':\n                var rsaComp = [ 'n', 'e', 'd', 'p', 'q', 'dp', 'dq', 'qi' ],\n                    rsaKey = [];\n                for ( var i = 0; i < rsaComp.length; i++ ) {\n                    if ( !( rsaComp[i] in k ) ) break;\n                    var b = rsaKey[i] = s2b( a2s( k[ rsaComp[i] ] ) );\n                    if ( b[0] & 0x80 ) rsaKey[i] = new Uint8Array(b.length + 1), rsaKey[i].set( b, 1 );\n                }\n                if ( rsaKey.length > 2 ) prv = true, rsaKey.unshift( new Uint8Array([0]) ); // add version to PKCS#1 RSAPrivateKey structure\n                info[0][0] = '1.2.840.113549.1.1.1';\n                key = rsaKey;\n                break;\n            default:\n                throw new TypeError(\"Unsupported key type\");\n        }\n        info.push( new Uint8Array( der2b(key) ).buffer );\n        if ( !prv ) info[1] = { 'tag': 0x03, 'value': info[1] };\n        else info.unshift( new Uint8Array([0]) ); // add version to PKCS#8 PrivateKeyInfo structure\n        return new Uint8Array( der2b(info) ).buffer;\n    }\n\n    var oid2str = { 'KoZIhvcNAQEB': '1.2.840.113549.1.1.1' },\n        str2oid = { '1.2.840.113549.1.1.1': 'KoZIhvcNAQEB' };\n\n    function b2der ( buf, ctx ) {\n        if ( buf instanceof ArrayBuffer ) buf = new Uint8Array(buf);\n        if ( !ctx ) ctx = { pos: 0, end: buf.length };\n\n        if ( ctx.end - ctx.pos < 2 || ctx.end > buf.length ) throw new RangeError(\"Malformed DER\");\n\n        var tag = buf[ctx.pos++],\n            len = buf[ctx.pos++];\n\n        if ( len >= 0x80 ) {\n            len &= 0x7f;\n            if ( ctx.end - ctx.pos < len ) throw new RangeError(\"Malformed DER\");\n            for ( var xlen = 0; len--; ) xlen <<= 8, xlen |= buf[ctx.pos++];\n            len = xlen;\n        }\n\n        if ( ctx.end - ctx.pos < len ) throw new RangeError(\"Malformed DER\");\n\n        var rv;\n\n        switch ( tag ) {\n            case 0x02: // Universal Primitive INTEGER\n                rv = buf.subarray( ctx.pos, ctx.pos += len );\n                break;\n            case 0x03: // Universal Primitive BIT STRING\n                if ( buf[ctx.pos++] ) throw new Error( \"Unsupported bit string\" );\n                len--;\n            case 0x04: // Universal Primitive OCTET STRING\n                rv = new Uint8Array( buf.subarray( ctx.pos, ctx.pos += len ) ).buffer;\n                break;\n            case 0x05: // Universal Primitive NULL\n                rv = null;\n                break;\n            case 0x06: // Universal Primitive OBJECT IDENTIFIER\n                var oid = btoa( b2s( buf.subarray( ctx.pos, ctx.pos += len ) ) );\n                if ( !( oid in oid2str ) ) throw new Error( \"Unsupported OBJECT ID \" + oid );\n                rv = oid2str[oid];\n                break;\n            case 0x30: // Universal Constructed SEQUENCE\n                rv = [];\n                for ( var end = ctx.pos + len; ctx.pos < end; ) rv.push( b2der( buf, ctx ) );\n                break;\n            default:\n                throw new Error( \"Unsupported DER tag 0x\" + tag.toString(16) );\n        }\n\n        return rv;\n    }\n\n    function der2b ( val, buf ) {\n        if ( !buf ) buf = [];\n\n        var tag = 0, len = 0,\n            pos = buf.length + 2;\n\n        buf.push( 0, 0 ); // placeholder\n\n        if ( val instanceof Uint8Array ) {  // Universal Primitive INTEGER\n            tag = 0x02, len = val.length;\n            for ( var i = 0; i < len; i++ ) buf.push( val[i] );\n        }\n        else if ( val instanceof ArrayBuffer ) { // Universal Primitive OCTET STRING\n            tag = 0x04, len = val.byteLength, val = new Uint8Array(val);\n            for ( var i = 0; i < len; i++ ) buf.push( val[i] );\n        }\n        else if ( val === null ) { // Universal Primitive NULL\n            tag = 0x05, len = 0;\n        }\n        else if ( typeof val === 'string' && val in str2oid ) { // Universal Primitive OBJECT IDENTIFIER\n            var oid = s2b( atob( str2oid[val] ) );\n            tag = 0x06, len = oid.length;\n            for ( var i = 0; i < len; i++ ) buf.push( oid[i] );\n        }\n        else if ( val instanceof Array ) { // Universal Constructed SEQUENCE\n            for ( var i = 0; i < val.length; i++ ) der2b( val[i], buf );\n            tag = 0x30, len = buf.length - pos;\n        }\n        else if ( typeof val === 'object' && val.tag === 0x03 && val.value instanceof ArrayBuffer ) { // Tag hint\n            val = new Uint8Array(val.value), tag = 0x03, len = val.byteLength;\n            buf.push(0); for ( var i = 0; i < len; i++ ) buf.push( val[i] );\n            len++;\n        }\n        else {\n            throw new Error( \"Unsupported DER value \" + val );\n        }\n\n        if ( len >= 0x80 ) {\n            var xlen = len, len = 4;\n            buf.splice( pos, 0, (xlen >> 24) & 0xff, (xlen >> 16) & 0xff, (xlen >> 8) & 0xff, xlen & 0xff );\n            while ( len > 1 && !(xlen >> 24) ) xlen <<= 8, len--;\n            if ( len < 4 ) buf.splice( pos, 4 - len );\n            len |= 0x80;\n        }\n\n        buf.splice( pos - 2, 2, tag, len );\n\n        return buf;\n    }\n\n    function CryptoKey ( key, alg, ext, use ) {\n        Object.defineProperties( this, {\n            _key: {\n                value: key\n            },\n            type: {\n                value: key.type,\n                enumerable: true,\n            },\n            extractable: {\n                value: (ext === undefined) ? key.extractable : ext,\n                enumerable: true,\n            },\n            algorithm: {\n                value: (alg === undefined) ? key.algorithm : alg,\n                enumerable: true,\n            },\n            usages: {\n                value: (use === undefined) ? key.usages : use,\n                enumerable: true,\n            },\n        });\n    }\n\n    function isPubKeyUse ( u ) {\n        return u === 'verify' || u === 'encrypt' || u === 'wrapKey';\n    }\n\n    function isPrvKeyUse ( u ) {\n        return u === 'sign' || u === 'decrypt' || u === 'unwrapKey';\n    }\n\n    [ 'generateKey', 'importKey', 'unwrapKey' ]\n        .forEach( function ( m ) {\n            var _fn = _subtle[m];\n\n            _subtle[m] = function ( a, b, c ) {\n                var args = [].slice.call(arguments),\n                    ka, kx, ku;\n\n                switch ( m ) {\n                    case 'generateKey':\n                        ka = alg(a), kx = b, ku = c;\n                        break;\n                    case 'importKey':\n                        ka = alg(c), kx = args[3], ku = args[4];\n                        if ( a === 'jwk' ) {\n                            b = b2jwk(b);\n                            if ( !b.alg ) b.alg = jwkAlg(ka);\n                            if ( !b.key_ops ) b.key_ops = ( b.kty !== 'oct' ) ? ( 'd' in b ) ? ku.filter(isPrvKeyUse) : ku.filter(isPubKeyUse) : ku.slice();\n                            args[1] = jwk2b(b);\n                        }\n                        break;\n                    case 'unwrapKey':\n                        ka = args[4], kx = args[5], ku = args[6];\n                        args[2] = c._key;\n                        break;\n                }\n\n                if ( m === 'generateKey' && ka.name === 'HMAC' && ka.hash ) {\n                    ka.length = ka.length || { 'SHA-1': 512, 'SHA-256': 512, 'SHA-384': 1024, 'SHA-512': 1024 }[ka.hash.name];\n                    return _subtle.importKey( 'raw', _crypto.getRandomValues( new Uint8Array( (ka.length+7)>>3 ) ), ka, kx, ku );\n                }\n\n                if ( isWebkit && m === 'generateKey' && ka.name === 'RSASSA-PKCS1-v1_5' && ( !ka.modulusLength || ka.modulusLength >= 2048 ) ) {\n                    a = alg(a), a.name = 'RSAES-PKCS1-v1_5', delete a.hash;\n                    return _subtle.generateKey( a, true, [ 'encrypt', 'decrypt' ] )\n                        .then( function ( k ) {\n                            return Promise.all([\n                                _subtle.exportKey( 'jwk', k.publicKey ),\n                                _subtle.exportKey( 'jwk', k.privateKey ),\n                            ]);\n                        })\n                        .then( function ( keys ) {\n                            keys[0].alg = keys[1].alg = jwkAlg(ka);\n                            keys[0].key_ops = ku.filter(isPubKeyUse), keys[1].key_ops = ku.filter(isPrvKeyUse);\n                            return Promise.all([\n                                _subtle.importKey( 'jwk', keys[0], ka, true, keys[0].key_ops ),\n                                _subtle.importKey( 'jwk', keys[1], ka, kx, keys[1].key_ops ),\n                            ]);\n                        })\n                        .then( function ( keys ) {\n                            return {\n                                publicKey: keys[0],\n                                privateKey: keys[1],\n                            };\n                        });\n                }\n\n                if ( ( isWebkit || ( isIE && ( ka.hash || {} ).name === 'SHA-1' ) )\n                        && m === 'importKey' && a === 'jwk' && ka.name === 'HMAC' && b.kty === 'oct' ) {\n                    return _subtle.importKey( 'raw', s2b( a2s(b.k) ), c, args[3], args[4] );\n                }\n\n                if ( isWebkit && m === 'importKey' && ( a === 'spki' || a === 'pkcs8' ) ) {\n                    return _subtle.importKey( 'jwk', pkcs2jwk(b), c, args[3], args[4] );\n                }\n\n                if ( isIE && m === 'unwrapKey' ) {\n                    return _subtle.decrypt( args[3], c, b )\n                        .then( function ( k ) {\n                            return _subtle.importKey( a, k, args[4], args[5], args[6] );\n                        });\n                }\n\n                var op;\n                try {\n                    op = _fn.apply( _subtle, args );\n                }\n                catch ( e ) {\n                    return Promise.reject(e);\n                }\n\n                if ( isIE ) {\n                    op = new Promise( function ( res, rej ) {\n                        op.onabort =\n                        op.onerror =    function ( e ) { rej(e)               };\n                        op.oncomplete = function ( r ) { res(r.target.result) };\n                    });\n                }\n\n                op = op.then( function ( k ) {\n                    if ( ka.name === 'HMAC' ) {\n                        if ( !ka.length ) ka.length = 8 * k.algorithm.length;\n                    }\n                    if ( ka.name.search('RSA') == 0 ) {\n                        if ( !ka.modulusLength ) ka.modulusLength = (k.publicKey || k).algorithm.modulusLength;\n                        if ( !ka.publicExponent ) ka.publicExponent = (k.publicKey || k).algorithm.publicExponent;\n                    }\n                    if ( k.publicKey && k.privateKey ) {\n                        k = {\n                            publicKey: new CryptoKey( k.publicKey, ka, kx, ku.filter(isPubKeyUse) ),\n                            privateKey: new CryptoKey( k.privateKey, ka, kx, ku.filter(isPrvKeyUse) ),\n                        };\n                    }\n                    else {\n                        k = new CryptoKey( k, ka, kx, ku );\n                    }\n                    return k;\n                });\n\n                return op;\n            }\n        });\n\n    [ 'exportKey', 'wrapKey' ]\n        .forEach( function ( m ) {\n            var _fn = _subtle[m];\n\n            _subtle[m] = function ( a, b, c ) {\n                var args = [].slice.call(arguments);\n\n                switch ( m ) {\n                    case 'exportKey':\n                        args[1] = b._key;\n                        break;\n                    case 'wrapKey':\n                        args[1] = b._key, args[2] = c._key;\n                        break;\n                }\n\n                if ( ( isWebkit || ( isIE && ( b.algorithm.hash || {} ).name === 'SHA-1' ) )\n                        && m === 'exportKey' && a === 'jwk' && b.algorithm.name === 'HMAC' ) {\n                    args[0] = 'raw';\n                }\n\n                if ( isWebkit && m === 'exportKey' && ( a === 'spki' || a === 'pkcs8' ) ) {\n                    args[0] = 'jwk';\n                }\n\n                if ( isIE && m === 'wrapKey' ) {\n                    return _subtle.exportKey( a, b )\n                        .then( function ( k ) {\n                            if ( a === 'jwk' ) k = s2b( unescape( encodeURIComponent( JSON.stringify( b2jwk(k) ) ) ) );\n                            return  _subtle.encrypt( args[3], c, k );\n                        });\n                }\n\n                var op;\n                try {\n                    op = _fn.apply( _subtle, args );\n                }\n                catch ( e ) {\n                    return Promise.reject(e);\n                }\n\n                if ( isIE ) {\n                    op = new Promise( function ( res, rej ) {\n                        op.onabort =\n                        op.onerror =    function ( e ) { rej(e)               };\n                        op.oncomplete = function ( r ) { res(r.target.result) };\n                    });\n                }\n\n                if ( m === 'exportKey' && a === 'jwk' ) {\n                    op = op.then( function ( k ) {\n                        if ( ( isWebkit || ( isIE && ( b.algorithm.hash || {} ).name === 'SHA-1' ) )\n                                && b.algorithm.name === 'HMAC') {\n                            return { 'kty': 'oct', 'alg': jwkAlg(b.algorithm), 'key_ops': b.usages.slice(), 'ext': true, 'k': s2a( b2s(k) ) };\n                        }\n                        k = b2jwk(k);\n                        if ( !k.alg ) k['alg'] = jwkAlg(b.algorithm);\n                        if ( !k.key_ops ) k['key_ops'] = ( b.type === 'public' ) ? b.usages.filter(isPubKeyUse) : ( b.type === 'private' ) ? b.usages.filter(isPrvKeyUse) : b.usages.slice();\n                        return k;\n                    });\n                }\n\n                if ( isWebkit && m === 'exportKey' && ( a === 'spki' || a === 'pkcs8' ) ) {\n                    op = op.then( function ( k ) {\n                        k = jwk2pkcs( b2jwk(k) );\n                        return k;\n                    });\n                }\n\n                return op;\n            }\n        });\n\n    [ 'encrypt', 'decrypt', 'sign', 'verify' ]\n        .forEach( function ( m ) {\n            var _fn = _subtle[m];\n\n            _subtle[m] = function ( a, b, c, d ) {\n                if ( isIE && ( !c.byteLength || ( d && !d.byteLength ) ) )\n                    throw new Error(\"Empy input is not allowed\");\n\n                var args = [].slice.call(arguments),\n                    ka = alg(a);\n\n                if ( isIE && m === 'decrypt' && ka.name === 'AES-GCM' ) {\n                    var tl = a.tagLength >> 3;\n                    args[2] = (c.buffer || c).slice( 0, c.byteLength - tl ),\n                    a.tag = (c.buffer || c).slice( c.byteLength - tl );\n                }\n\n                args[1] = b._key;\n\n                var op;\n                try {\n                    op = _fn.apply( _subtle, args );\n                }\n                catch ( e ) {\n                    return Promise.reject(e);\n                }\n\n                if ( isIE ) {\n                    op = new Promise( function ( res, rej ) {\n                        op.onabort =\n                        op.onerror = function ( e ) {\n                            rej(e);\n                        };\n\n                        op.oncomplete = function ( r ) {\n                            var r = r.target.result;\n\n                            if ( m === 'encrypt' && r instanceof AesGcmEncryptResult ) {\n                                var c = r.ciphertext, t = r.tag;\n                                r = new Uint8Array( c.byteLength + t.byteLength );\n                                r.set( new Uint8Array(c), 0 );\n                                r.set( new Uint8Array(t), c.byteLength );\n                                r = r.buffer;\n                            }\n\n                            res(r);\n                        };\n                    });\n                }\n\n                return op;\n            }\n        });\n\n    if ( isIE ) {\n        var _digest = _subtle.digest;\n\n        _subtle['digest'] = function ( a, b ) {\n            if ( !b.byteLength )\n                throw new Error(\"Empy input is not allowed\");\n\n            var op;\n            try {\n                op = _digest.call( _subtle, a, b );\n            }\n            catch ( e ) {\n                return Promise.reject(e);\n            }\n\n            op = new Promise( function ( res, rej ) {\n                op.onabort =\n                op.onerror =    function ( e ) { rej(e)               };\n                op.oncomplete = function ( r ) { res(r.target.result) };\n            });\n\n            return op;\n        };\n\n        global.crypto = Object.create( _crypto, {\n            getRandomValues: { value: function ( a ) { return _crypto.getRandomValues(a) } },\n            subtle:          { value: _subtle },\n        });\n\n        global.CryptoKey = CryptoKey;\n    }\n\n    if ( isWebkit ) {\n        _crypto.subtle = _subtle;\n\n        global.Crypto = _Crypto;\n        global.SubtleCrypto = _SubtleCrypto;\n        global.CryptoKey = CryptoKey;\n    }\n}));\n","/**\n * https://developer.mozilla.org/en-US/docs/Web/API/CustomEvent/CustomEvent#Polyfill\n */\n\n;(function(): void {\n  if (typeof window.CustomEvent !== 'function') {\n    function CustomEvent(event: string, params: any): Event {\n      params = params || {\n        bubbles: false,\n        cancelable: false,\n        detail: undefined,\n      }\n      const evt = document.createEvent('CustomEvent')\n      evt.initCustomEvent(\n        event,\n        params.bubbles,\n        params.cancelable,\n        params.detail\n      )\n      return evt\n    }\n\n    CustomEvent.prototype = Event.prototype\n    window.CustomEvent = CustomEvent\n  }\n})()\n","var support = {\n  searchParams: 'URLSearchParams' in self,\n  iterable: 'Symbol' in self && 'iterator' in Symbol,\n  blob:\n    'FileReader' in self &&\n    'Blob' in self &&\n    (function() {\n      try {\n        new Blob()\n        return true\n      } catch (e) {\n        return false\n      }\n    })(),\n  formData: 'FormData' in self,\n  arrayBuffer: 'ArrayBuffer' in self\n}\n\nfunction isDataView(obj) {\n  return obj && DataView.prototype.isPrototypeOf(obj)\n}\n\nif (support.arrayBuffer) {\n  var viewClasses = [\n    '[object Int8Array]',\n    '[object Uint8Array]',\n    '[object Uint8ClampedArray]',\n    '[object Int16Array]',\n    '[object Uint16Array]',\n    '[object Int32Array]',\n    '[object Uint32Array]',\n    '[object Float32Array]',\n    '[object Float64Array]'\n  ]\n\n  var isArrayBufferView =\n    ArrayBuffer.isView ||\n    function(obj) {\n      return obj && viewClasses.indexOf(Object.prototype.toString.call(obj)) > -1\n    }\n}\n\nfunction normalizeName(name) {\n  if (typeof name !== 'string') {\n    name = String(name)\n  }\n  if (/[^a-z0-9\\-#$%&'*+.^_`|~]/i.test(name)) {\n    throw new TypeError('Invalid character in header field name')\n  }\n  return name.toLowerCase()\n}\n\nfunction normalizeValue(value) {\n  if (typeof value !== 'string') {\n    value = String(value)\n  }\n  return value\n}\n\n// Build a destructive iterator for the value list\nfunction iteratorFor(items) {\n  var iterator = {\n    next: function() {\n      var value = items.shift()\n      return {done: value === undefined, value: value}\n    }\n  }\n\n  if (support.iterable) {\n    iterator[Symbol.iterator] = function() {\n      return iterator\n    }\n  }\n\n  return iterator\n}\n\nexport function Headers(headers) {\n  this.map = {}\n\n  if (headers instanceof Headers) {\n    headers.forEach(function(value, name) {\n      this.append(name, value)\n    }, this)\n  } else if (Array.isArray(headers)) {\n    headers.forEach(function(header) {\n      this.append(header[0], header[1])\n    }, this)\n  } else if (headers) {\n    Object.getOwnPropertyNames(headers).forEach(function(name) {\n      this.append(name, headers[name])\n    }, this)\n  }\n}\n\nHeaders.prototype.append = function(name, value) {\n  name = normalizeName(name)\n  value = normalizeValue(value)\n  var oldValue = this.map[name]\n  this.map[name] = oldValue ? oldValue + ', ' + value : value\n}\n\nHeaders.prototype['delete'] = function(name) {\n  delete this.map[normalizeName(name)]\n}\n\nHeaders.prototype.get = function(name) {\n  name = normalizeName(name)\n  return this.has(name) ? this.map[name] : null\n}\n\nHeaders.prototype.has = function(name) {\n  return this.map.hasOwnProperty(normalizeName(name))\n}\n\nHeaders.prototype.set = function(name, value) {\n  this.map[normalizeName(name)] = normalizeValue(value)\n}\n\nHeaders.prototype.forEach = function(callback, thisArg) {\n  for (var name in this.map) {\n    if (this.map.hasOwnProperty(name)) {\n      callback.call(thisArg, this.map[name], name, this)\n    }\n  }\n}\n\nHeaders.prototype.keys = function() {\n  var items = []\n  this.forEach(function(value, name) {\n    items.push(name)\n  })\n  return iteratorFor(items)\n}\n\nHeaders.prototype.values = function() {\n  var items = []\n  this.forEach(function(value) {\n    items.push(value)\n  })\n  return iteratorFor(items)\n}\n\nHeaders.prototype.entries = function() {\n  var items = []\n  this.forEach(function(value, name) {\n    items.push([name, value])\n  })\n  return iteratorFor(items)\n}\n\nif (support.iterable) {\n  Headers.prototype[Symbol.iterator] = Headers.prototype.entries\n}\n\nfunction consumed(body) {\n  if (body.bodyUsed) {\n    return Promise.reject(new TypeError('Already read'))\n  }\n  body.bodyUsed = true\n}\n\nfunction fileReaderReady(reader) {\n  return new Promise(function(resolve, reject) {\n    reader.onload = function() {\n      resolve(reader.result)\n    }\n    reader.onerror = function() {\n      reject(reader.error)\n    }\n  })\n}\n\nfunction readBlobAsArrayBuffer(blob) {\n  var reader = new FileReader()\n  var promise = fileReaderReady(reader)\n  reader.readAsArrayBuffer(blob)\n  return promise\n}\n\nfunction readBlobAsText(blob) {\n  var reader = new FileReader()\n  var promise = fileReaderReady(reader)\n  reader.readAsText(blob)\n  return promise\n}\n\nfunction readArrayBufferAsText(buf) {\n  var view = new Uint8Array(buf)\n  var chars = new Array(view.length)\n\n  for (var i = 0; i < view.length; i++) {\n    chars[i] = String.fromCharCode(view[i])\n  }\n  return chars.join('')\n}\n\nfunction bufferClone(buf) {\n  if (buf.slice) {\n    return buf.slice(0)\n  } else {\n    var view = new Uint8Array(buf.byteLength)\n    view.set(new Uint8Array(buf))\n    return view.buffer\n  }\n}\n\nfunction Body() {\n  this.bodyUsed = false\n\n  this._initBody = function(body) {\n    this._bodyInit = body\n    if (!body) {\n      this._bodyText = ''\n    } else if (typeof body === 'string') {\n      this._bodyText = body\n    } else if (support.blob && Blob.prototype.isPrototypeOf(body)) {\n      this._bodyBlob = body\n    } else if (support.formData && FormData.prototype.isPrototypeOf(body)) {\n      this._bodyFormData = body\n    } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n      this._bodyText = body.toString()\n    } else if (support.arrayBuffer && support.blob && isDataView(body)) {\n      this._bodyArrayBuffer = bufferClone(body.buffer)\n      // IE 10-11 can't handle a DataView body.\n      this._bodyInit = new Blob([this._bodyArrayBuffer])\n    } else if (support.arrayBuffer && (ArrayBuffer.prototype.isPrototypeOf(body) || isArrayBufferView(body))) {\n      this._bodyArrayBuffer = bufferClone(body)\n    } else {\n      this._bodyText = body = Object.prototype.toString.call(body)\n    }\n\n    if (!this.headers.get('content-type')) {\n      if (typeof body === 'string') {\n        this.headers.set('content-type', 'text/plain;charset=UTF-8')\n      } else if (this._bodyBlob && this._bodyBlob.type) {\n        this.headers.set('content-type', this._bodyBlob.type)\n      } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n        this.headers.set('content-type', 'application/x-www-form-urlencoded;charset=UTF-8')\n      }\n    }\n  }\n\n  if (support.blob) {\n    this.blob = function() {\n      var rejected = consumed(this)\n      if (rejected) {\n        return rejected\n      }\n\n      if (this._bodyBlob) {\n        return Promise.resolve(this._bodyBlob)\n      } else if (this._bodyArrayBuffer) {\n        return Promise.resolve(new Blob([this._bodyArrayBuffer]))\n      } else if (this._bodyFormData) {\n        throw new Error('could not read FormData body as blob')\n      } else {\n        return Promise.resolve(new Blob([this._bodyText]))\n      }\n    }\n\n    this.arrayBuffer = function() {\n      if (this._bodyArrayBuffer) {\n        return consumed(this) || Promise.resolve(this._bodyArrayBuffer)\n      } else {\n        return this.blob().then(readBlobAsArrayBuffer)\n      }\n    }\n  }\n\n  this.text = function() {\n    var rejected = consumed(this)\n    if (rejected) {\n      return rejected\n    }\n\n    if (this._bodyBlob) {\n      return readBlobAsText(this._bodyBlob)\n    } else if (this._bodyArrayBuffer) {\n      return Promise.resolve(readArrayBufferAsText(this._bodyArrayBuffer))\n    } else if (this._bodyFormData) {\n      throw new Error('could not read FormData body as text')\n    } else {\n      return Promise.resolve(this._bodyText)\n    }\n  }\n\n  if (support.formData) {\n    this.formData = function() {\n      return this.text().then(decode)\n    }\n  }\n\n  this.json = function() {\n    return this.text().then(JSON.parse)\n  }\n\n  return this\n}\n\n// HTTP methods whose capitalization should be normalized\nvar methods = ['DELETE', 'GET', 'HEAD', 'OPTIONS', 'POST', 'PUT']\n\nfunction normalizeMethod(method) {\n  var upcased = method.toUpperCase()\n  return methods.indexOf(upcased) > -1 ? upcased : method\n}\n\nexport function Request(input, options) {\n  options = options || {}\n  var body = options.body\n\n  if (input instanceof Request) {\n    if (input.bodyUsed) {\n      throw new TypeError('Already read')\n    }\n    this.url = input.url\n    this.credentials = input.credentials\n    if (!options.headers) {\n      this.headers = new Headers(input.headers)\n    }\n    this.method = input.method\n    this.mode = input.mode\n    this.signal = input.signal\n    if (!body && input._bodyInit != null) {\n      body = input._bodyInit\n      input.bodyUsed = true\n    }\n  } else {\n    this.url = String(input)\n  }\n\n  this.credentials = options.credentials || this.credentials || 'same-origin'\n  if (options.headers || !this.headers) {\n    this.headers = new Headers(options.headers)\n  }\n  this.method = normalizeMethod(options.method || this.method || 'GET')\n  this.mode = options.mode || this.mode || null\n  this.signal = options.signal || this.signal\n  this.referrer = null\n\n  if ((this.method === 'GET' || this.method === 'HEAD') && body) {\n    throw new TypeError('Body not allowed for GET or HEAD requests')\n  }\n  this._initBody(body)\n}\n\nRequest.prototype.clone = function() {\n  return new Request(this, {body: this._bodyInit})\n}\n\nfunction decode(body) {\n  var form = new FormData()\n  body\n    .trim()\n    .split('&')\n    .forEach(function(bytes) {\n      if (bytes) {\n        var split = bytes.split('=')\n        var name = split.shift().replace(/\\+/g, ' ')\n        var value = split.join('=').replace(/\\+/g, ' ')\n        form.append(decodeURIComponent(name), decodeURIComponent(value))\n      }\n    })\n  return form\n}\n\nfunction parseHeaders(rawHeaders) {\n  var headers = new Headers()\n  // Replace instances of \\r\\n and \\n followed by at least one space or horizontal tab with a space\n  // https://tools.ietf.org/html/rfc7230#section-3.2\n  var preProcessedHeaders = rawHeaders.replace(/\\r?\\n[\\t ]+/g, ' ')\n  preProcessedHeaders.split(/\\r?\\n/).forEach(function(line) {\n    var parts = line.split(':')\n    var key = parts.shift().trim()\n    if (key) {\n      var value = parts.join(':').trim()\n      headers.append(key, value)\n    }\n  })\n  return headers\n}\n\nBody.call(Request.prototype)\n\nexport function Response(bodyInit, options) {\n  if (!options) {\n    options = {}\n  }\n\n  this.type = 'default'\n  this.status = options.status === undefined ? 200 : options.status\n  this.ok = this.status >= 200 && this.status < 300\n  this.statusText = 'statusText' in options ? options.statusText : 'OK'\n  this.headers = new Headers(options.headers)\n  this.url = options.url || ''\n  this._initBody(bodyInit)\n}\n\nBody.call(Response.prototype)\n\nResponse.prototype.clone = function() {\n  return new Response(this._bodyInit, {\n    status: this.status,\n    statusText: this.statusText,\n    headers: new Headers(this.headers),\n    url: this.url\n  })\n}\n\nResponse.error = function() {\n  var response = new Response(null, {status: 0, statusText: ''})\n  response.type = 'error'\n  return response\n}\n\nvar redirectStatuses = [301, 302, 303, 307, 308]\n\nResponse.redirect = function(url, status) {\n  if (redirectStatuses.indexOf(status) === -1) {\n    throw new RangeError('Invalid status code')\n  }\n\n  return new Response(null, {status: status, headers: {location: url}})\n}\n\nexport var DOMException = self.DOMException\ntry {\n  new DOMException()\n} catch (err) {\n  DOMException = function(message, name) {\n    this.message = message\n    this.name = name\n    var error = Error(message)\n    this.stack = error.stack\n  }\n  DOMException.prototype = Object.create(Error.prototype)\n  DOMException.prototype.constructor = DOMException\n}\n\nexport function fetch(input, init) {\n  return new Promise(function(resolve, reject) {\n    var request = new Request(input, init)\n\n    if (request.signal && request.signal.aborted) {\n      return reject(new DOMException('Aborted', 'AbortError'))\n    }\n\n    var xhr = new XMLHttpRequest()\n\n    function abortXhr() {\n      xhr.abort()\n    }\n\n    xhr.onload = function() {\n      var options = {\n        status: xhr.status,\n        statusText: xhr.statusText,\n        headers: parseHeaders(xhr.getAllResponseHeaders() || '')\n      }\n      options.url = 'responseURL' in xhr ? xhr.responseURL : options.headers.get('X-Request-URL')\n      var body = 'response' in xhr ? xhr.response : xhr.responseText\n      resolve(new Response(body, options))\n    }\n\n    xhr.onerror = function() {\n      reject(new TypeError('Network request failed'))\n    }\n\n    xhr.ontimeout = function() {\n      reject(new TypeError('Network request failed'))\n    }\n\n    xhr.onabort = function() {\n      reject(new DOMException('Aborted', 'AbortError'))\n    }\n\n    xhr.open(request.method, request.url, true)\n\n    if (request.credentials === 'include') {\n      xhr.withCredentials = true\n    } else if (request.credentials === 'omit') {\n      xhr.withCredentials = false\n    }\n\n    if ('responseType' in xhr && support.blob) {\n      xhr.responseType = 'blob'\n    }\n\n    request.headers.forEach(function(value, name) {\n      xhr.setRequestHeader(name, value)\n    })\n\n    if (request.signal) {\n      request.signal.addEventListener('abort', abortXhr)\n\n      xhr.onreadystatechange = function() {\n        // DONE (success or failure)\n        if (xhr.readyState === 4) {\n          request.signal.removeEventListener('abort', abortXhr)\n        }\n      }\n    }\n\n    xhr.send(typeof request._bodyInit === 'undefined' ? null : request._bodyInit)\n  })\n}\n\nfetch.polyfill = true\n\nif (!self.fetch) {\n  self.fetch = fetch\n  self.Headers = Headers\n  self.Request = Request\n  self.Response = Response\n}\n","import { getAccessToken } from '../store'\n\n/**\n * Detect whether user is logged in by accessToken in sessionStorage\n * @export\n * @returns {boolean}\n */\nexport default function isLoggedIn(): boolean {\n  return !!getAccessToken()\n}\n","import parse from './parse'\nimport stringify from './stringify'\n\nexport default {\n  parse,\n  stringify,\n}\n","/**\n * Parse url query string to object\n * @export\n * @param {string} search - query string\n * @returns {{}} - query object\n */\nexport default function parse(search: string): any {\n  const arr: string[] = search\n    .replace(/^\\?/, '') // remove ?\n    .replace(/^#\\/?/, '') // remove # or #/\n    .split(/&+/)\n    .filter(x => x.length > 0)\n  const query: any = arr.reduce((query: any, item: string): any => {\n    const [key, value] = item.split('=')\n    query[decodeURIComponent(key)] = decodeURIComponent(value)\n    return query\n  }, {})\n  return query\n}\n","/**\n * Stringify object to url query string\n * @export\n * @param {{}} query - object\n * @returns {string} - query string\n */\nexport default function stringify(query: {}): string {\n  return Object.keys(query)\n    .map(\n      (key: string): string => {\n        const value: any = query[key]\n        return (\n          key +\n          '=' +\n          (typeof value === 'undefined' ? '' : encodeURIComponent(value))\n        )\n      }\n    )\n    .join('&')\n  // .replace(/%20/g, '+')\n}\n","export function createUrl({\n  subdomain = 'api',\n  pathname,\n}: {\n  subdomain?: string\n  pathname: string\n}): string {\n  return `https://${subdomain}.${SERVER_END_POINT}/${pathname}`\n}\n\nconst endPointMap = {\n  token: createUrl({ pathname: 'oauth2/v2.1/token' }),\n  certs: createUrl({ pathname: 'oauth2/v2.1/certs' }),\n  'openid-configuration': createUrl({\n    subdomain: 'access',\n    pathname: '.well-known/openid-configuration',\n  }),\n  authorize: createUrl({\n    subdomain: 'access',\n    pathname: 'liff/v1/authorize',\n  }),\n  profile: createUrl({ pathname: 'v2/profile' }),\n  message: createUrl({ pathname: 'message/v3/share' }),\n  messageOTT: createUrl({ pathname: 'message/v3/multisend?type=ott' }),\n  friendship: createUrl({ pathname: 'friendship/v1/status' }),\n  // to develop on local, comment out this line and launch by `yarn serve` on the line_web_login branch\n  // userPicker: \"http://localhost:8081/dist/shareTargetPicker.html\",\n  userPicker: createUrl({\n    subdomain: 'access',\n    pathname: 'oauth2/v2.1/liff/userPicker',\n  }),\n  // userPickerDomain: \"*\",\n  userPickerDomain: createUrl({ subdomain: 'access', pathname: '' }),\n}\n\nexport default function getEndPoint(key: string): string {\n  return endPointMap[key] || ''\n}\n","// import getConfig from './getConfig'\nimport createCodeChallenge from './createCodeChallenge'\nimport createCodeVerifier from './createCodeVerifier'\nimport { setLoginTmp, getConfig } from '../store'\nimport qs from '../util/qs'\nimport getEndPoint from '../util/getEndPoint'\nimport randomBase64Hash from '../util/randomBase64Hash'\nimport createError from '../util/createError'\nimport { INVALID_CONFIG } from '../util/consts'\n\n/**\n * Redirect to LINE login server\n * @export\n * @param {redirectUri?: string}} [loginConfig]\n */\nexport default function login(loginConfig?: { redirectUri?: string }): void {\n  const codeVerifier = createCodeVerifier()\n  const code_challenge = createCodeChallenge(codeVerifier)\n  const config = getConfig()\n  if (!config || !config.liffId) {\n    throw createError(\n      INVALID_CONFIG,\n      'You need to define `liffId` for liff.login()'\n    )\n  }\n  const loginParams: any = {\n    app_id: config.liffId,\n    state: randomBase64Hash(12),\n    response_type: 'code',\n    code_challenge_method: 'S256',\n    code_challenge,\n  }\n  if (loginConfig && loginConfig.redirectUri) {\n    loginParams.redirect_uri = loginConfig.redirectUri\n  }\n  // save in storage for requestAccessToken after redirected back from LINE login server\n  setLoginTmp({ codeVerifier })\n\n  // Redirect to LINE login server\n  const url = getEndPoint('authorize') + '?' + qs.stringify(loginParams)\n  window._log(`[Redirect] ${url}`)\n  window.location.href = url\n}\n","import sha256 from 'tiny-sha256'\nimport hexToBase64 from '../util/hexToBase64'\n\n/**\n * createCodeChallenge for PKCE Login\n * @export\n * @param  {string} code_verifier\n * @return {string}\n */\nexport default function createCodeChallenge(code_verifier: string): string {\n  return hexToBase64(sha256(code_verifier))\n    .replace(/\\+/g, '-')\n    .replace(/\\//g, '_')\n    .replace(/=/g, '')\n}\n","import randomBase64Hash from '../util/randomBase64Hash'\n/**\n * createCodeVerifier for PKCE login\n * @export\n * @return {string}\n */\nexport default function createCodeVerifier(): string {\n  return randomBase64Hash(43)\n}\n","import store from '../store'\n/**\n * clear sessionStorage\n * @export\n */\nexport default function logout(): void {\n  store.clean()\n}\n","import { getAccessToken } from '../store'\nimport { UNAUTHORIZED } from './consts'\nimport createError from './createError'\n\nconst handleRes = (res: any): Promise<any> => {\n  if (res.ok) {\n    try {\n      return res.json()\n    } catch {\n      return res\n    }\n  }\n\n  // parse error\n  try {\n    return res.json().then(\n      (err): void => {\n        throw createError(err.error, err.error_description || err.message)\n      }\n    )\n  } catch {\n    const err = createError(res.status, res.statusText)\n    throw err\n  }\n}\n\nexport default function _fetch(url: string, options?: any): Promise<any> {\n  let headers = {}\n  if (!options || !options.headers) {\n    const accessToken = getAccessToken()\n    if (!accessToken) {\n      return Promise.reject(\n        createError(\n          UNAUTHORIZED,\n          'Need access_token for api call, Please login first'\n        )\n      )\n    }\n    headers = {\n      'Content-Type': 'application/json',\n      Accept: 'application/json',\n      Authorization: `Bearer ${accessToken}`,\n    }\n  }\n  return fetch(url, {\n    headers,\n    ...options,\n  }).then(handleRes)\n}\n","/**\n * decode Base64URL\n * @export\n * @param {string} data - string\n * @returns {string}\n */\nexport default function decodeBase64URL(data: string): string {\n  return window.atob(data.replace(/\\-/g, '+').replace(/_/g, '/'))\n}\n","/**\n * string to Uint8Array\n * @export\n * @param {string} str - string\n * @returns {Uint8Array}\n */\nexport default function toBufferSource(str: string) {\n  return new Uint8Array(str.length).map((c, i) => str.charCodeAt(i))\n}\n","import 'webcrypto-shim'\nimport decodeBase64URL from '../util/decodeBase64URL'\nimport toBufferSource from '../util/toBufferSource'\nimport fetch from '../util/fetch'\nimport getEndPoint from '../util/getEndPoint'\nimport createError from '../util/createError'\nimport { INVALID_ID_TOKEN } from '../util/consts'\n\nasync function fetchCerts() {\n  // TODO:\n  // need to fetch certs endpoint from .well-known/openid-configuration\n  // will change this after the above api supports CORS.\n  return await fetch(getEndPoint('certs'))\n}\n\n/**\n * verify ID Token in JWT format\n * @export\n * @param {string} idToken - string\n * @returns {Promise<Object>}\n */\nexport default async function verifyIDToken(\n  idToken: string,\n  liffClientId: string\n) {\n  const jwt = idToken.split('.')\n  const [header, payload, signature] = jwt\n\n  const headerJSON = JSON.parse(decodeBase64URL(header))\n  const payloadJSON = JSON.parse(decodeBase64URL(payload))\n  const signatureBuf = toBufferSource(decodeBase64URL(signature))\n  const encodedBuf = toBufferSource(header + '.' + payload)\n\n  // Get the remote key of same key ID from public signing keys\n  const certs = await fetchCerts()\n  const certsKey = certs.keys.find(key => key.kid === headerJSON.kid)\n\n  if (certsKey) {\n    // to fix importKey error in firefox, delete unnessary \"alg\"\n    delete certsKey.alg\n    const remotePublicKey = await crypto.subtle.importKey(\n      'jwk',\n      certsKey,\n      { name: 'ECDSA', namedCurve: 'P-256' },\n      false,\n      ['verify']\n    )\n    if (headerJSON.alg !== 'ES256') {\n      // Make sure if its algorithm is ECDSA\n      throw createError(\n        INVALID_ID_TOKEN,\n        'Invalid algorithm of signature in ID Token'\n      )\n    }\n    // Verify JWS signature with the key\n    const verifyResult = await crypto.subtle.verify(\n      { name: 'ECDSA', hash: { name: 'SHA-256' } },\n      remotePublicKey,\n      signatureBuf,\n      encodedBuf\n    )\n    if (verifyResult) {\n      // Verify other parameters\n      const issInvalid = payloadJSON.iss !== 'https://access.line.me'\n      const audInvalid = payloadJSON.aud !== liffClientId\n      const expInvalid = payloadJSON.exp < Math.floor(Date.now() / 1000)\n\n      if (issInvalid) {\n        throw createError(INVALID_ID_TOKEN, 'Invalid \"iss\" value in ID Token')\n      }\n      if (audInvalid) {\n        throw createError(INVALID_ID_TOKEN, 'Invalid \"aud\" value in ID Token')\n      }\n      if (expInvalid) {\n        throw createError(INVALID_ID_TOKEN, 'Invalid \"exp\" value in ID Token')\n      }\n      return payloadJSON\n    } else {\n      throw createError(INVALID_ID_TOKEN, 'Failed to verify ID Token signature')\n    }\n  } else {\n    throw createError(INVALID_ID_TOKEN, 'Invalid key id in ID Token')\n  }\n}\n","import createError from '../util/createError'\nimport { getConfig } from '../store/'\nimport { PERMANENT_LINK_ORIGIN } from '../util/consts'\n\nlet extraParams = ''\n\n/**\n * Give developer ability to add extra params to permanent link.\n * Can be used for tracking parameters for example\n * @param {string} paramsToAdd - Extra params to add to permanent link\n */\nconst setExtraQueryParam = (paramsToAdd: string): void => {\n  extraParams = encodeURIComponent(paramsToAdd)\n}\n\n/**\n * Create Permanent Link function.\n * @returns {string} - Generated permanent link\n */\nconst createUrl = (): string => {\n  const { pathname, search, hash } = window.location\n  const hashesToFilter = /^access_token|^feature_token|^context_token/\n  const filteredHash = hash\n    .substring(1)\n    .split('&')\n    // Remove LIFF tokens from hash.\n    .filter((x): boolean => !hashesToFilter.test(x) && Boolean(x))\n    .join('&')\n  const query = search\n    .substring(1)\n    .split('&')\n    .concat(extraParams)\n    // Remove liff.state if it's present in search\n    .filter((x): boolean => !/liff\\.state/.test(x) && Boolean(x))\n    .join('&')\n  const curPath = `${pathname}${query ? `?${query}` : ''}${\n    filteredHash ? `#${filteredHash}` : ''\n  }`\n  return `${PERMANENT_LINK_ORIGIN}${getConfig().liffId}${curPath}`\n}\n\n/**\n * Remove double slashes from decoded liff.state\n * @param {string} decodedState\n * @returns {string} - DecodedState with any double slashes removed\n */\nconst removeDoubleSlashes = (decodedState: string): string =>\n  decodedState.replace(/\\/{2,}/g, '/')\n\n/**\n * Validate contents of decoded liff.state\n * @param {string} decodedState\n * @returns {boolean} - If liff.state is valide, returns true\n */\nconst validateState = (decodedState: string): boolean => {\n  // Valid state must start with a slash and contain no instances of ../\n  const invalidReg = /^(?!\\/)|\\/\\./g\n  return invalidReg.exec(decodedState) === null\n}\n\n/**\n * Decode liff.state\n * If valid, return decoded state (with any double slashes removed)\n * Else LiffError is thrown\n * @param {string} state - liff.state's value\n * @throws {LiffError}\n * @returns {string} - Decoded liff.state with any double slashes removed\n */\nconst decodeState = (state: string): string => {\n  const decodedState = decodeURIComponent(state)\n  if (!validateState(decodedState)) {\n    throw createError('LIFF.STATE_INVALID', 'liff.state is invalid')\n  }\n  const filteredState = removeDoubleSlashes(decodedState)\n  // Add LIFF Tokens to decoded state\n  const currentHash = window.location.hash\n  let tokenHash = ''\n  if (currentHash) {\n    const stateHashIndex = decodedState.indexOf('#')\n    // Need to account for LIFF.states that contain a hash and add to decodedState\n    const hashPrefix = stateHashIndex > 0 ? '&' : '#'\n    tokenHash = `${hashPrefix}${currentHash.substring(1)}`\n  }\n  return filteredState.concat(tokenHash)\n}\n\nexport { decodeState, createUrl, setExtraQueryParam }\n","/**\n * Detect OS\n * @export\n * @returns {OS}\n */\ntype OS = 'ios' | 'android' | 'web'\nlet os: OS\nexport default function getOS(): OS {\n  if (!os) {\n    const ua = window.navigator.userAgent.toLowerCase()\n    if (/iphone|ipad|ipod/.test(ua)) {\n      os = 'ios'\n    } else if (/android/.test(ua)) {\n      os = 'android'\n    } else {\n      os = 'web'\n    }\n  }\n  return os\n}\n","/**\n * Get webview language\n * @export\n * @returns {string}\n */\nlet language: string\nexport default function getLanguage(): string {\n  if (!language) {\n    // Get language from userAgent\n    language =\n      Object.prototype.toString.call(navigator.languages) === '[object Array]'\n        ? navigator.languages[0]\n        : navigator.language\n  }\n  return language\n}\n","const toJSONString = function(data) {\n  let json = ''\n  if (typeof data === 'object') {\n    try {\n      json = JSON.stringify(data)\n    } catch (err) {\n      json = data + ''\n    }\n  } else {\n    json = data + ''\n  }\n  return json\n}\n\nconst urlencode = function(url, data) {\n  let params = Object.keys(data)\n    .map(key => {\n      return `${encodeURIComponent(key)}=${encodeURIComponent(\n        toJSONString(data[key])\n      )}`\n    })\n    .join('&')\n  let sep = url.indexOf('?') < 0 ? '?' : '&'\n  return url + sep + params\n}\n\nclass Beacon {\n  private endpoint: string\n\n  public constructor(endpoint) {\n    this.endpoint = endpoint\n  }\n\n  public send(data: object, hitCallback?: Function) {\n    let sent = false\n    let image = document.createElement('img')\n    image.width = 1\n    image.height = 1\n    if (typeof hitCallback === 'function') {\n      image.onload = function() {\n        if (!sent) {\n          hitCallback(image)\n          sent = true\n        }\n      }\n      // timeout\n      setTimeout(function() {\n        if (!sent) {\n          hitCallback(image)\n          sent = true\n        }\n      }, 1500)\n    }\n    image.src = urlencode(this.endpoint, data)\n  }\n}\n\n/**\n * logToTorimochi()\n * A method for sending logs in liff-sdk.\n * For example: collecting potential abuser events.\n * Here we only pick out the function of sending data in torimochi instead of using complete torimochi.js.\n * So we can avoid conflict with torimochi that is already on the LIFF App side.\n * @export\n * @param {string} msg\n * @returns {void}\n */\nexport default function logToTorimochi(msg: string, hitCallback?: Function) {\n  const endpoint = 'https://torimochi.line-apps.com/1/req'\n  const beacon = new Beacon(endpoint)\n  let data = {\n    cid: 'liff',\n    eventType: 'debug',\n    timestamp: Date.now(),\n    logVersion: '1.6.9',\n    threshold: 0,\n    productKey: ENV === 'production' ? 'liff-real' : 'liff-beta',\n    productVersion: 'latest',\n    url: location.href,\n    host: location.hostname,\n    path: location.pathname,\n    query: location.search,\n    hash: location.hash,\n    referrer: document.referrer,\n    userId: 'liff',\n    sessionId: 'none',\n    sessionPath: '',\n    sessionQuery: '',\n    sessionTime: '0',\n    sessionDuration: '0',\n    sessionParams: {},\n    touchX: '0',\n    touchY: '0',\n    scrollX: '0',\n    scrollY: '0',\n    windowX: '0',\n    windowY: '0',\n    targets: [],\n    content: {\n      debug: { message: msg },\n    },\n  }\n  return beacon.send(data, hitCallback)\n}\n","import fetch from '../util/fetch'\nimport getEndPoint from '../util/getEndPoint'\nimport { INVALID_ARGUMENT } from '../util/consts'\nimport createError from '../util/createError'\n\n/**\n * the options to choose the way to send message in sendMessages method\n * none: send a message to context\n * ott: send messages to users binded to One-Time-Token (can send up to 10 ppl/group)\n */\nexport enum SendMessagesOptionsType {\n  none = 'none',\n  ott = 'ott',\n}\n\nexport type SendMessagesParams = { type: string; text: string }[]\nexport interface SendMessagesOptions {\n  type: SendMessagesOptionsType\n  token: string\n}\n\n/**\n * send a message to context or send messages to users binded to One-Time-Token\n * @export\n * @param {Array<{type: string, text: string, }>} messages\n * @returns {Promise<any>}\n */\nexport default function sendMessages(\n  messages: SendMessagesParams,\n  options?: SendMessagesOptions\n): Promise<any> {\n  if (\n    options &&\n    options.type &&\n    options.type !== SendMessagesOptionsType.none\n  ) {\n    if (options.type === SendMessagesOptionsType.ott && options.token.length) {\n      return fetch(getEndPoint('messageOTT'), {\n        method: 'POST',\n        body: JSON.stringify({\n          token: options.token,\n          messages,\n        }),\n      })\n    } else {\n      throw createError(INVALID_ARGUMENT, 'incorrect ')\n    }\n  } else {\n    return fetch(getEndPoint('message'), {\n      method: 'POST',\n      body: JSON.stringify({ messages }),\n    })\n  }\n}\n","/**\n * @author JP23555\n */\nconst eventHandlers = {}\n\nexport function getEventHandlers(): { [k: string]: Function } {\n  return eventHandlers\n}\n\nexport default function listen(\n  target: HTMLElement | HTMLDocument | Window,\n  key: string,\n  callback?: (e: Event) => void,\n  options?: AddEventListenerOptions\n): Promise<Event> {\n  const [event] = key.split('.')\n\n  return new Promise(\n    (resolve): void => {\n      eventHandlers[key] = function(e: Event): void {\n        resolve(e)\n        if (callback) {\n          callback(e)\n        }\n      }\n      target.addEventListener(event, eventHandlers[key], options)\n    }\n  )\n}\n","/**\n * @author JP23555\n */\nimport { getEventHandlers } from './listen'\n\nexport default function removeListen(target, key): void {\n  const eventHandlers = getEventHandlers()\n  const [event] = key.split('.')\n  target.removeEventListener(event, eventHandlers[key])\n  eventHandlers[key] = null\n}\n","/**\n * @author JP23555\n */\nimport listen from './listen'\nimport removeListen from './removeListen'\nimport getEndPoint from '../getEndPoint'\n\nexport interface IframeEvent extends MessageEvent {\n  data: { name: string; body: any }\n}\n\nexport class WindowPostMessage {\n  public receiver: Window\n  public destination: Window\n  public listenKeyName = 'message.liff'\n\n  public init(\n    receiver: Window,\n    destination: Window,\n    callback: (e: IframeEvent) => Promise<void>\n  ): void {\n    this.receiver = receiver\n    this.destination = destination\n\n    // in case, remove event\n    this.destroy()\n    listen(\n      this.receiver,\n      this.listenKeyName,\n      async (e: IframeEvent): Promise<void> => {\n        if (e && e.data && e.data.name) {\n          console.log('RECEIVE>>>', e.data.name)\n          await callback(e)\n        }\n      }\n    )\n  }\n\n  public send(name: string, body: {} = {}): void {\n    const SERVER_END_POINT = getEndPoint('userPickerDomain')\n    const sendData: IframeEvent['data'] = {\n      name,\n      body,\n    }\n    this.destination.postMessage(sendData, SERVER_END_POINT)\n  }\n\n  public destroy(): void {\n    removeListen(this.receiver, this.listenKeyName)\n  }\n}\n","/**\n * @author JP23555\n */\nimport { WindowPostMessage, IframeEvent } from '../windowPostMessage'\n\nexport abstract class AbstractSubwindow {\n  protected url: string = ''\n  protected uniqAttr: string = ''\n  protected namespace: Window\n  protected accessToken: string\n  protected windowPostMessage: WindowPostMessage\n  protected contentElm: HTMLElement\n  protected styleElm: HTMLStyleElement\n  protected resolve: Function\n  protected reject: Function\n  protected pingHandler\n  protected healthcheckHandler\n\n  protected abstract postmessageDestination: Window\n\n  public constructor(\n    url: string,\n    accessToken: string,\n    namespace: Window = window\n  ) {\n    this.url = url\n    this.accessToken = accessToken\n    this.namespace = namespace\n    this.windowPostMessage = new WindowPostMessage()\n  }\n\n  // parepare callbacks\n  public async init(): Promise<any> {\n    await this.prepareWindow()\n\n    this.windowPostMessage.init(\n      this.namespace,\n      this.postmessageDestination,\n      this.postMessageCallback\n    )\n\n    this.pingHandler = setInterval((): void => {\n      console.log('windowPostMessage ping')\n      this.windowPostMessage.send('ping')\n    }, 1000)\n    this.healthcheckHandler = setInterval((): void => {\n      if (this.postmessageDestination.closed) {\n        if (this.resolve) {\n          this.resolve(null)\n        }\n      }\n    }, 1000)\n  }\n\n  public async start(): Promise<any> {\n    return new Promise(\n      (resolve, reject): void => {\n        this.resolve = resolve\n        this.reject = reject\n      }\n    )\n  }\n\n  public async destroy(): Promise<any> {\n    clearInterval(this.pingHandler)\n    clearInterval(this.healthcheckHandler)\n    this.breakWindow()\n    this.windowPostMessage.destroy()\n  }\n\n  // make HTMLElements\n  protected abstract prepareWindow(): Promise<any>\n  protected abstract breakWindow(): Promise<any>\n  public async postMessageCallback(e: IframeEvent): Promise<any> {\n    switch (e.data.name) {\n      case 'ping':\n        clearInterval(this.pingHandler)\n        this.windowPostMessage.send('pong', {\n          accessToken: this.accessToken,\n        })\n        break\n      case 'exception':\n        this.destroy()\n        this.reject(e.data.body)\n        break\n    }\n  }\n}\n","/**\n * @author JP23555\n */\nimport { AbstractSubwindow } from './AbstractSubwindow'\nimport makeUniqAttr from '../makeUniqAttr'\n\nexport abstract class AbstractIframe extends AbstractSubwindow {\n  protected iframe: HTMLIFrameElement\n\n  protected get postmessageDestination(): Window {\n    return this.iframe.contentWindow\n  }\n\n  public async init(): Promise<any> {\n    await super.init()\n  }\n\n  protected async prepareWindow(): Promise<any> {\n    this.uniqAttr = makeUniqAttr()\n    this.contentElm = this.prepareDom()\n    this.styleElm = this.prepareStyle()\n\n    this.changeBodyStyle()\n    this.namespace.document.body.appendChild(this.contentElm)\n    this.namespace.document.head.appendChild(this.styleElm)\n  }\n\n  protected async breakWindow(): Promise<any> {\n    this.namespace.document.body.removeChild(this.contentElm)\n    this.namespace.document.head.removeChild(this.styleElm)\n  }\n\n  protected prepareDom(): HTMLElement {\n    const iframe = this.namespace.document.createElement('iframe')\n\n    iframe.setAttribute('sandbox', 'allow-scripts allow-same-origin')\n    iframe.setAttribute('name', `LIFF-iframe-${this.uniqAttr}`)\n    iframe.setAttribute('src', this.url)\n    iframe.setAttribute('class', 'liff-iframe')\n    iframe.setAttribute(this.uniqAttr, '')\n\n    this.iframe = iframe\n\n    return iframe\n  }\n\n  protected prepareStyle(): HTMLStyleElement {\n    return this.namespace.document.createElement('style')\n  }\n\n  protected abstract changeBodyStyle(): void\n  protected abstract revertBodyStyle(): void\n}\n","/**\n * @author JP23555\n */\nimport randomBase64Hash from '../randomBase64Hash'\nimport { LIFF_ATTR_DOM } from '../consts'\n\n/**\n * make a new unique attribute for HTMLElement to distinguish the elements created by LIFF SDK\n * @param namespace\n */\nexport default function makeUniqAttr(namespace: Window = window): string {\n  let uniq: string\n  const getname = (): string => {\n    uniq = LIFF_ATTR_DOM.replace('{0}', randomBase64Hash(6))\n    return uniq\n  }\n  // until get a unique attribute, this loop will continue.\n  // the loop is limited being called up to 100 times not to occur infinity loop\n  for (\n    let i = 1;\n    i <= 100 && !!namespace.document.body.querySelector(`[${getname()}]`);\n    i++\n  ) {\n    if (i === 100) {\n      throw new Error(\"can't make a relavent name space for LIFF on HTML\")\n    }\n  }\n  return uniq\n}\n","/**\n * @author JP23555\n */\nimport { AbstractIframe } from './abstract/AbstractIframe'\nimport css from './css/shareTargetPicker'\nimport toStyle from '../toStyle'\nimport listen from './listen'\nimport { IframeEvent } from './windowPostMessage'\nimport qs from '../qs'\nimport removeListen from './removeListen'\nimport { ROUTER_MODE } from '../consts'\n\nexport class ShareTargetPickerIFrame extends AbstractIframe {\n  protected routerMode\n  protected submittedData: boolean | {} = false\n  private wrapperIn: HTMLElement\n  private originalBodyStyle: string = ''\n  private orgDocumentStyle: string = ''\n  private originalBodyPos: { x: number; y: number } = { x: 0, y: 0 }\n\n  public async init(routerMode?: ROUTER_MODE): Promise<any> {\n    if (routerMode !== ROUTER_MODE.HASH && routerMode !== ROUTER_MODE.HISTORY) {\n      routerMode = ROUTER_MODE.NONE\n    }\n    this.routerMode = routerMode\n\n    await super.init()\n\n    await this.historyAdd()\n    this.startWatchingHistoryChange()\n  }\n\n  protected prepareDom(): HTMLElement {\n    const iframe = super.prepareDom()\n    const wrapper = this.namespace.document.createElement('div')\n    wrapper.setAttribute('class', 'liff-wrap')\n    wrapper.setAttribute(this.uniqAttr, '')\n    const wrapperIn = this.namespace.document.createElement('div')\n    wrapperIn.setAttribute('class', 'liff-wrap_in isOpening')\n    wrapperIn.setAttribute(this.uniqAttr, '')\n    wrapperIn.appendChild(iframe)\n\n    wrapper.appendChild(wrapperIn)\n    this.wrapperIn = wrapperIn\n\n    return wrapper\n  }\n\n  protected prepareStyle(): HTMLStyleElement {\n    const style = super.prepareStyle()\n    style.textContent = toStyle(css(this.uniqAttr))\n\n    return style\n  }\n\n  public async cancel(): Promise<any> {\n    this.resolve(null)\n    await this.destroy()\n  }\n\n  public async submit(): Promise<any> {\n    this.resolve(this.submittedData)\n    await this.destroy()\n  }\n\n  public async destroy(): Promise<any> {\n    this.revertBodyStyle()\n    await new Promise(\n      (resolve): void => {\n        // check if the browser supports \"transitionend\"\n        if ('onanimationend' in window) {\n          // after closing animation, call finalize\n          this.wrapperIn.classList.remove('isOpening')\n          setTimeout((): void => {\n            this.wrapperIn.classList.add('isClosing')\n            listen(this.wrapperIn, 'animationend.iframe', null, {\n              once: true,\n            }).then(resolve)\n          }, 0)\n        } else {\n          // if the browser doesn't support, call finalize immediately\n          resolve()\n        }\n      }\n    )\n    await super.destroy()\n  }\n\n  protected changeBodyStyle(): void {\n    // keep the current screen positions because body will be fixed position and will forget current positions soon\n    this.originalBodyPos.x = window.scrollX\n    this.originalBodyPos.y = window.scrollY\n\n    this.originalBodyStyle = this.namespace.document.body.style.cssText\n    this.orgDocumentStyle = this.namespace.document.documentElement.style.cssText\n    this.namespace.document.body.style.cssText =\n      this.originalBodyStyle +\n      'overflow:hidden!important;height: 100%!important;'\n    this.namespace.document.documentElement.style.cssText =\n      'overflow:hidden!important;height: 100%!important;'\n\n    // not to bounce screen at the edge of the page, listen scroll and force changing positions\n    listen(\n      this.namespace,\n      'scroll.liff.iframe',\n      function(event) {\n        window.scrollTo(0, 0)\n      },\n      { passive: false }\n    )\n  }\n  protected revertBodyStyle(): void {\n    this.namespace.document.body.style.cssText = this.originalBodyStyle\n    this.namespace.document.documentElement.style.cssText = this.orgDocumentStyle\n    window.scrollTo(this.originalBodyPos.x, this.originalBodyPos.y)\n    removeListen(this.namespace, 'scroll.liff.iframe')\n  }\n\n  private filter(obj): { [k: string]: any } {\n    const result = {}\n    for (let key in obj) {\n      if (obj.hasOwnProperty(key) && obj[key] && key.length) {\n        result[key] = obj[key]\n      }\n    }\n    return result\n  }\n\n  public postMessageCallback = async (e: IframeEvent): Promise<void> => {\n    await super.postMessageCallback(e)\n    switch (e.data.name) {\n      case 'cancel':\n        if (this.routerMode === ROUTER_MODE.NONE) {\n          await this.cancel()\n        } else {\n          this.namespace.history.back()\n        }\n        break\n      case 'submit':\n        const { data } = e\n        if (data && data.body && data.body.token) {\n          this.submittedData = data.body.token\n        } else {\n          throw new Error('submitted without data')\n        }\n\n        if (this.routerMode === ROUTER_MODE.NONE) {\n          await this.submit()\n        } else {\n          this.namespace.history.back()\n        }\n        break\n    }\n  }\n\n  /**\n   * TODO こいつらの処遇は後で決める\n   */\n\n  protected historyAdd(): Promise<void> {\n    if (this.routerMode === ROUTER_MODE.NONE) return Promise.resolve()\n\n    switch (this.routerMode) {\n      case ROUTER_MODE.HASH:\n        const hash = qs.parse(this.namespace.location.hash)\n        hash.userpicker = true\n        this.namespace.location.hash = qs.stringify(hash)\n        return new Promise(\n          (resolve): void => {\n            setTimeout(resolve, 0)\n          }\n        )\n      case ROUTER_MODE.HISTORY:\n        this.namespace.history.pushState(\n          { userpicker: true },\n          'liff userpicker',\n          ''\n        )\n        return Promise.resolve()\n    }\n  }\n\n  protected startWatchingHistoryChange(): void {\n    const handler = async (): Promise<void> => {\n      if (this.submittedData) {\n        await this.submit()\n      } else {\n        await this.cancel()\n      }\n    }\n\n    switch (this.routerMode) {\n      case ROUTER_MODE.HASH:\n        listen(this.namespace, 'hashchange.liff.iframe', handler, {\n          once: true,\n        })\n        break\n      case ROUTER_MODE.HISTORY:\n        listen(this.namespace, 'popstate.liff.iframe', handler, { once: true })\n        break\n    }\n  }\n\n  protected historyRemove(): void {\n    switch (this.routerMode) {\n      case ROUTER_MODE.HASH:\n        removeListen(this.namespace, 'hashchange.liff.iframe')\n\n        const hash = qs.parse(window.location.hash)\n        delete hash.userpicker\n        window.location.hash = qs.stringify(this.filter(hash))\n        break\n      case ROUTER_MODE.HISTORY:\n        removeListen(this.namespace, 'popstate.liff.iframe')\n        window.history.replaceState(\n          { userpicker: false },\n          'liff userpicker',\n          ''\n        )\n        break\n    }\n  }\n}\n","/**\n * The style declarations for outer frame of userpicker\n * These each styles are put `imporant` keyword as postfix\n * @author jp23555\n */\nexport default (uniq: string): {} => ({\n  [`[${uniq}]`]: {\n    margin: 0,\n    padding: 0,\n    border: 0,\n    width: '100vw',\n    'font-size': '100%',\n    font: 'inherit',\n    'vertical-align': 'baseline',\n    'box-size': 'border-box',\n    display: 'block',\n    position: 'initial',\n    all: 'initial',\n  },\n  [`.liff-wrap[${uniq}]`]: {\n    position: 'relative',\n    'z-index': 10000,\n  },\n  [`.liff-wrap_in[${uniq}]`]: {\n    position: 'fixed',\n    width: '100vw',\n    border: 'none',\n    'overflow-x': 'hidden',\n    'overflow-y': 'auto',\n    top: 0,\n    bottom: 0,\n    left: 0,\n    right: 0,\n    'z-index': 10000,\n    '-webkit-overflow-scrolling': 'touch',\n    'background-color': 'white',\n  },\n  [`.liff-button-area[${uniq}]`]: {\n    position: 'fixed',\n    bottom: 0,\n    left: 0,\n    right: 0,\n    padding: '8px 16px',\n    background: '#ffffff',\n    'background-color': 'white',\n    'z-index': 10001,\n    display: 'flex',\n    'justify-content': 'center',\n  },\n  [`.liff-button-area[${uniq}] > button`]: {\n    flex: '0 1 100%',\n    height: '45px',\n    'margin-right': '7.5px',\n    border: 'none',\n    'border-radius': '5px',\n    color: '#6c7985',\n    'background-color': '#dee5ec',\n    'font-weight': 600,\n    'line-height': '20px',\n    'font-size': '16px',\n    'text-decoration': 'none',\n    'word-break': 'break-all',\n    'text-align': 'center',\n    opacity: 0,\n  },\n  [`.liff-button-area[${uniq}] > button.liff-isDisp`]: {\n    transition: 'opacity .4s ease-in',\n    opacity: 1,\n  },\n  [`.liff-button-area[${uniq}] > .liff-button-submit`]: {\n    color: '#ffffff',\n    'background-color': '#00b900',\n  },\n  [`.liff-button-area[${uniq}] > button:disabled`]: {\n    color: 'rgba(255,255,255, 0.5)',\n    cursor: 'initial',\n  },\n  [`.liff-button-area[${uniq}] > button:last-of-type`]: {\n    'margin-right': 0,\n  },\n  [`.liff-wrap_in[${uniq}].isOpening`]: {\n    animation: `fadein-${uniq} 0.4s forwards ease-out`,\n  },\n  [`.liff-wrap_in[${uniq}].isClosing`]: {\n    animation: `fadein-${uniq}reverse 0.4s forwards ease-in`,\n  },\n  [`.liff-iframe[${uniq}]`]: {\n    width: '100%',\n    height: '100%',\n    border: 'none',\n  },\n  [`@keyframes fadein-${uniq}`]: {\n    from: {\n      opacity: 0,\n      transform: 'translateY(100vh)',\n    },\n    to: {\n      opacity: 1,\n      transform: 'translateY(0)',\n    },\n  },\n  [`@keyframes fadein-${uniq}reverse`]: {\n    from: {\n      opacity: 1,\n      transform: 'translateY(0)',\n    },\n    to: {\n      opacity: 0,\n      transform: 'translateY(100vh)',\n    },\n  },\n})\n","export default function toStyle(styles: {}, important = true): string {\n  let res = ''\n  for (let prop in styles) {\n    if (typeof styles[prop] === 'object') {\n      if (prop.indexOf('@keyframes') >= 0) important = false\n      res += `${prop}{${toStyle(styles[prop], important)}}`\n    } else {\n      res += `${prop}:${styles[prop]}${important ? '!important' : ''};`\n    }\n  }\n  return res\n}\n","/**\n * @author JP23555\n */\nimport { AbstractPopup } from './abstract/AbstractPopup'\nimport { IframeEvent } from './windowPostMessage'\n\n// export interface ShareTargetPickerPopupInitOption {}\n\nexport class ShareTargetPickerPopup extends AbstractPopup {\n  protected routerMode\n  protected submittedData: boolean | {} = false\n\n  public async init(): Promise<void> {\n    await super.init()\n  }\n\n  public async cancel(): Promise<void> {\n    this.resolve(null)\n    await this.destroy()\n  }\n\n  public async submit(): Promise<void> {\n    this.resolve(this.submittedData)\n    await this.destroy()\n  }\n\n  public async destroy(): Promise<void> {\n    await super.destroy()\n  }\n\n  public postMessageCallback = async (e: IframeEvent): Promise<void> => {\n    await super.postMessageCallback(e)\n    switch (e.data.name) {\n      case 'cancel':\n        await this.cancel()\n        break\n      case 'submit':\n        const { data } = e\n        if (data && data.body && data.body.token) {\n          this.submittedData = data.body.token\n        } else {\n          throw new Error('submitted without data')\n        }\n\n        await this.submit()\n        break\n    }\n  }\n}\n","/**\n * @author JP23555\n */\nimport { AbstractSubwindow } from './AbstractSubwindow'\n\nexport abstract class AbstractPopup extends AbstractSubwindow {\n  protected windowProxy: Window\n\n  protected get postmessageDestination(): Window {\n    return this.windowProxy\n  }\n\n  public async init(): Promise<any> {\n    await super.init()\n  }\n\n  public async prepareWindow(): Promise<any> {\n    this.windowProxy = window.open(\n      this.url,\n      'liffpopup',\n      'width=480, height=640, menubar=no, toolbar=no, scrollbars=yes'\n    )\n  }\n\n  public async breakWindow(): Promise<any> {\n    this.windowProxy.close()\n  }\n}\n","// type checking\nexport type PluginName = 'bluetooth' | 'advertisement'\n\nexport type PluginNames = PluginName[]\n\n/**\n * a config for plugin verification\n * - if `[plugin].featureName` exists, check whether features is avaiable by LINE client.\n * - if `[plugin].shoudIgnore` is ture, don't verify plugin, use directly.\n */\nexport const verification = {\n  bluetooth: {\n    featureName: 'bluetoothLeFunction',\n    shouldIgnore: false,\n  },\n  advertisement: {\n    shouldIgnore: true,\n  },\n}\n","import { PluginName } from './config'\n\nexport default function loadPlugin(plugin: PluginName): Promise<any> {\n  switch (plugin) {\n    case 'bluetooth':\n      return import(\n        /* webpackChunkName: \"bluetooth\" */\n        `../../plugins/bluetooth/index.js`\n      )\n    case 'advertisement':\n      return import(\n        /* webpackChunkName: \"advertisement\" */\n        `../../plugins/advertisement/index.js`\n      )\n    default:\n      return Promise.reject()\n  }\n}\n","window._log = ENV === 'production' ? (): void => {} : console.log\n\n// polyfill\nimport 'whatwg-fetch'\nimport 'promise-polyfill/src/polyfill'\n\nimport init from './init'\n\nimport getOS from './common/getOS'\nimport getVersion from './common/getVersion'\nimport getLanguage from './common/getLanguage'\nimport isInClient from './common/isInClient'\n\nimport isLoggedIn from './auth/isLoggedIn'\nimport login from './auth/login'\nimport logout from './auth/logout'\n\nimport { getAccessToken, getFeatures, getContext, getDecodedIDToken } from './store'\nimport {\n  dispatch,\n  call,\n  postMessage,\n  addListener,\n  removeListener,\n} from './client/bridge'\nimport checkFeature from './client/checkFeature'\nimport openWindow from './client/openWindow'\nimport closeWindow from './client/closeWindow'\nimport scanCode from './client/scanCode'\nimport getAdvertisingId from './client/getAdvertisingId'\n\nimport getProfile from './api/getProfile'\nimport sendMessages from './api/sendMessages'\nimport userPicker from './api/userPicker'\nimport getFriendship from './api/getFriendship'\n\nimport initPlugins from './plugin/initPlugins'\nimport { createUrl, setExtraQueryParam } from './auth/permanentLink'\n\nconst liff: any = {\n  // core\n  init,\n  // common\n  getOS,\n  getVersion,\n  getLanguage,\n  isInClient,\n  // auth\n  isLoggedIn,\n  login,\n  logout,\n  getAccessToken,\n  getDecodedIDToken,\n  getContext,\n  // client\n  openWindow,\n  closeWindow,\n  scanCode,\n  getAdvertisingId,\n  getFeatures,\n  getFriendship,\n  checkFeature,\n  // http apis\n  getProfile,\n  sendMessages,\n  userPicker,\n  // plugin system\n  initPlugins,\n  // Permanent Link functionality\n  permanentLink: {\n    createUrl,\n    setExtraQueryParam,\n  },\n  // private\n  // expose window.liff._dispatchEvent() to LINE client\n  _dispatchEvent: dispatch,\n  // js-native bridge methods for custom event\n  _call: call,\n  _addListener: addListener,\n  _removeListener: removeListener,\n  _postMessage: postMessage,\n}\n\nexport default liff\n","import {\n  setFeatureToken,\n  setAccessToken,\n  setDecodedIDToken,\n  getLoginTmp,\n  setExpireTime,\n  setConfig,\n  setContext,\n  removeLoginTmp,\n} from './store'\nimport isInClient from './common/isInClient'\nimport isLoggedIn from './auth/isLoggedIn'\nimport checkExpired from './auth/checkExpired'\nimport login from './auth/login'\nimport logout from './auth/logout'\nimport requestAccessToken from './auth/requestAccessToken'\nimport verifyIDToken from './auth/verifyIDToken'\nimport ready from './client/ready'\nimport parseContext from './client/parseContext'\nimport qs from './util/qs'\nimport LiffError from './util/LiffError'\nimport createError from './util/createError'\nimport { decodeState } from './auth/permanentLink'\nimport { INIT_FAILED, INVALID_CONFIG } from './util/consts'\nimport logToTorimochi from './logToTorimochi'\n\n/**\n * liff.init() entry point of LIFF app\n * - get & store `accessToken` from url\n * - get & store `featureToken` from url\n * - handle `ready` event from LINE client if isInClient\n * - request accessToken from server (if has no `accessToken` in url or store && has `core` in url)\n * @export\n * @param { liffId: string } config\n * @param {Function} [successCallback]\n * @param {Function} [errorCallback]\n * @returns {Promise<any>}\n */\nexport default function init(\n  config: { liffId: string },\n  successCallback?: Function,\n  errorCallback?: Function\n): Promise<any> {\n  const success =\n    typeof successCallback === 'function'\n      ? successCallback\n      : Promise.resolve.bind(Promise)\n  const error =\n    typeof errorCallback === 'function'\n      ? errorCallback\n      : Promise.reject.bind(Promise)\n\n  if (!config.liffId) {\n    return error(\n      createError(INVALID_CONFIG, 'liffId is necessary for liff.init()')\n    )\n  }\n\n  setConfig(config)\n\n  const hash = qs.parse(window.location.hash)\n  const query = qs.parse(window.location.search)\n\n  // Detected LIFF page is just redirected back from login server of LINE Login\n  // Then requestAccessToken\n  const loginTmp = getLoginTmp()\n  const isRedirectedFromLoginServer =\n    query.code && !isLoggedIn() && loginTmp && loginTmp.codeVerifier\n  if (isRedirectedFromLoginServer) {\n    return requestAccessToken()\n      .then(\n        (rawToken): Promise<any> => {\n          setAccessToken(rawToken.access_token)\n          setExpireTime(new Date(Date.now() + rawToken.expires_in * 1000))\n          removeLoginTmp()\n          const idToken = rawToken.id_token\n          if (idToken) {\n            return verifyIDToken(idToken, query.liffClientId).then(\n              payloadJSON => {\n                if (payloadJSON) {\n                  setDecodedIDToken(payloadJSON)\n                }\n                return success()\n              }\n            )\n          } else {\n            return success()\n          }\n        }\n      )\n      .catch(\n        (err: LiffError): void => {\n          removeLoginTmp()\n          return error(err)\n        }\n      )\n  }\n\n  // Handle error if it is redirected by Login Server with error in query\n  if (query.error) {\n    let errDesc = query.error_description.replace(/\\+/g, ' ')\n    const errMsg = `${query.error}: ${errDesc}`\n    const err = createError(INIT_FAILED, errMsg)\n    return error(err)\n  }\n\n  // Redirect LIFF App to permanent link location found in liff.state\n  if (query['liff.state']) {\n    try {\n      const destination = decodeState(query['liff.state'])\n      // Redirection is unnecessary if decoded state is equal to entry URL's\n      if (destination && destination !== location.pathname) {\n        location.replace(destination)\n      }\n    } catch (e) {\n      console.error(e)\n    }\n  }\n\n  const isClient = isInClient()\n  const canUseValidate =\n    window._liff && typeof window._liff.validateFeatureToken === 'function'\n\n  if (isClient) {\n    // Parse and set all url hash tokens\n    if (hash.context_token) {\n      setContext(parseContext(hash.context_token))\n    }\n    // Save feature_token and access_token from hash upon initialization\n    if (!isLoggedIn()) {\n      // Return callback with error if tokens cannot be parsed\n      if (!hash.feature_token || !hash.access_token) {\n        // if no token in hash fragment, call LINE login flow\n        login()\n        return error(\n          createError(\n            INIT_FAILED,\n            'Failed to parse feature_token or access_token'\n          )\n        )\n      } else if (\n        canUseValidate &&\n        !window._liff.validateFeatureToken(config.liffId, hash.feature_token)\n      ) {\n        // if fail to validate feature_token in hash fragment, call LINE login flow\n        login()\n        return error(\n          createError(INIT_FAILED, 'Failed to validate feature_token')\n        )\n      } else if (!canUseValidate && window.history.length > 1) {\n        // In a case where `validateFeatureToken` is not provided by LINE client(< v9.8.0) and history.length > 1\n        // There is a possibility that the token is abused, just send a log for analysis.\n        logToTorimochi('potential abuser')\n      } else {\n        setFeatureToken(hash.feature_token)\n        setAccessToken(hash.access_token)\n      }\n    }\n    // Wait for `ready` event from LINE client\n    return ready()\n      .then((): void => success())\n      .catch((err: LiffError): void => error(err))\n  }\n\n  // When in external browser\n  // if accessToken is expired and logout\n  if (isLoggedIn() && checkExpired()) {\n    logout()\n  }\n\n  // Already loggedin or anonymous visit\n  return success()\n}\n","import { getConfig } from '../store'\nimport { getLoginTmp } from '../store'\nimport fetch from '../util/fetch'\nimport qs from '../util/qs'\nimport getEndPoint from '../util/getEndPoint'\n\n/**\n * Request OAuth server to issue access_token\n * API Reference https://wiki.linecorp.com/pages/viewpage.action?pageId=867206036#Login&OAuthv2.1-PUBLICIssueUserAccessToken\n * @export\n * @returns {Promise<any>}\n */\nexport default function requestAccessToken(): Promise<any> {\n  const config = getConfig()\n  const query = qs.parse(window.location.search)\n  const loginTmp = getLoginTmp()\n  const postData = {\n    grant_type: 'authorization_code',\n    client_id: query.liffClientId,\n    appId: config.liffId,\n    code: query.code,\n    code_verifier: loginTmp.codeVerifier,\n    redirect_uri: config.redirectUri || query.liffRedirectUri,\n    id_token_key_type: 'JWK',\n  }\n  const body = qs.stringify(postData)\n  return fetch(getEndPoint('token'), {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/x-www-form-urlencoded;charset=UTF-8',\n    },\n    body,\n  })\n}\n","// parse context from hash string\n\nexport default function parseContext(contextStr: string): any {\n  const arr = contextStr.split('.')\n  if (arr[1]) {\n    try {\n      const conext = JSON.parse(window.atob(arr[1]))\n      return conext\n    } catch {\n      return null\n    }\n  }\n  return null\n}\n","import { setFeatures } from '../store'\nimport removeListener from './bridge/removeListener'\nimport addListenter from './bridge/addListener'\n\n/**\n * listen to `ready` event from client\n * set client features in client callback\n * @export\n * @returns {Promise<any>}\n */\nexport default function ready(): Promise<any> {\n  return new Promise(\n    (resolve): void => {\n      // detect whether has client injected `features` to webview\n      if (window._liff && window._liff.features) {\n        window._log('init from window._liff.features')\n        setFeatures(window._liff.features)\n        resolve()\n      } else {\n        window._log('cannot find window._liff.features, listen to ready event')\n        // In old client or somehow client doesn't inject the `features`, listen to `ready` event\n        // But still can't solve \"ready event is fired before SDK addListener\" in old client\n        const readyHandler = (e): void => {\n          window._log('ready event is fired')\n          removeListener('ready', readyHandler)\n          if (e && e.detail && e.detail.data && e.detail.data.features) {\n            setFeatures(e.detail.data.features)\n          }\n          resolve()\n        }\n        addListenter('ready', readyHandler)\n      }\n    }\n  )\n}\n","import { getExpireTime } from '../store'\n\nexport default function checkExpired(): boolean {\n  const expired = getExpireTime()\n  return !expired\n}\n","/**\n * Get LIFF SDK Version\n * @return {string}\n */\nexport default function getVersion(): string {\n  return VERSION\n}\n","import { call } from './bridge'\nimport createError from '../util/createError'\nimport { INVALID_ARGUMENT } from '../util/consts'\nimport isInClient from '../common/isInClient'\n\nexport interface OpenWindowParams {\n  url: string\n  external?: boolean\n}\n\n/**\n * openWindow()\n * @export\n * @param {OpenWindowParams} params\n * @returns {Promise<any>}\n */\nexport default function openWindow(params: OpenWindowParams): void {\n  if (\n    !params ||\n    typeof params.url !== 'string' ||\n    params.url === '' ||\n    (typeof params.external !== 'undefined' &&\n      typeof params.external !== 'boolean')\n  ) {\n    throw createError(\n      INVALID_ARGUMENT,\n      'Invalid parameters for liff.openWindow()'\n    )\n    return\n  }\n  if (isInClient()) {\n    call('openWindow', params)\n  } else {\n    // in external browser\n    window.open(params.url, '_blank')\n  }\n}\n","import { call } from './bridge'\n\n/**\n * close current window (liff app)\n */\nexport default function closeWindow(): void {\n  call('closeWindow')\n}\n","import { call } from './bridge'\nimport checkFeature from './checkFeature'\nimport createError from '../util/createError'\nimport { FORBIDDEN } from '../util/consts'\n\n/**\n * open scan qr code appview\n */\ninterface ScanCodeResult {\n  value: string | null\n}\nexport default function scanCode(): Promise<ScanCodeResult> {\n  if (!checkFeature('scanCode')) {\n    return Promise.reject(\n      createError(FORBIDDEN, 'No promission for liff.scanCode()')\n    )\n  }\n  return call('scanCode')\n}\n","import { call } from './bridge'\nimport checkFeature from './checkFeature'\nimport createError from '../util/createError'\nimport { FORBIDDEN } from '../util/consts'\n/**\n * get advertising Id\n */\nexport default function getAdvertisingId(): Promise<any> {\n  if (!checkFeature('getAdvertisingId')) {\n    return Promise.reject(\n      createError(FORBIDDEN, 'No promission for liff.getAdvertisingId()')\n    )\n  }\n  return call('getAdvertisingId').then(\n    (data): null | string => {\n      return data.advertising\n    }\n  )\n}\n","import fetch from '../util/fetch'\nimport getEndPoint from '../util/getEndPoint'\n\ninterface Friendship {\n  friendFlag: boolean\n}\n/**\n * get Friendship\n * https://developers.line.biz/en/reference/social-api/#get-friendship-status\n * @export\n * @returns {Promise<Friendship>}\n */\nexport default function getFriendship(): Promise<Friendship> {\n  return fetch(getEndPoint('friendship'))\n}\n","import fetch from '../util/fetch'\nimport getEndPoint from '../util/getEndPoint'\n\ninterface Profile {\n  userId: string\n  displayName: string\n  pictureUrl?: string\n  statusMessage?: string\n}\n/**\n * get user profile\n * @export\n * @returns {Promise<any>}\n */\nexport default function getProfile(): Promise<Profile> {\n  return fetch(getEndPoint('profile'))\n}\n","/**\n * @author JP23555\n */\nimport getEndPoint from '../util/getEndPoint'\nimport { ShareTargetPickerIFrame } from '../util/dom/ShareTargetPickerIframe'\nimport { ShareTargetPickerPopup } from '../util/dom/ShareTargetPickerPopup'\nimport createError from '../util/createError'\nimport {\n  ROUTER_MODE,\n  UNAUTHORIZED,\n  CREATE_SUBWINDOW_FAILED,\n  EXCEPTION_IN_SUBWINDOW,\n} from '../util/consts'\nimport getOS from '../common/getOS'\nimport { getAccessToken } from '../store'\nimport isLoggedIn from '../auth/isLoggedIn'\n\n/**\n * open a user picker screen in new window or iframe\n * @export\n * @param {string} routerMode\n * @returns {Promise<string|null>}\n */\nexport default async function userPicker(\n  options: { routerMode: ROUTER_MODE } = { routerMode: ROUTER_MODE.NONE }\n): Promise<string | null> {\n  let picker\n  const url = getEndPoint('userPicker')\n\n  if (!isLoggedIn()) {\n    throw createError(\n      UNAUTHORIZED,\n      'Need access_token for api call, Please login first'\n    )\n  }\n\n  // initialize picker class\n  try {\n    const token = getAccessToken()\n    if (getOS() === 'web') {\n      picker = new ShareTargetPickerPopup(url, token, window)\n    } else {\n      picker = new ShareTargetPickerIFrame(url, token, window)\n    }\n    await picker.init(options.routerMode)\n  } catch (e) {\n    throw createError(CREATE_SUBWINDOW_FAILED, e.message)\n  }\n\n  // start watching until a user finishes choosing\n  try {\n    return await picker.start()\n  } catch (e) {\n    throw createError(EXCEPTION_IN_SUBWINDOW, e.message)\n  }\n}\n","import { PluginName, PluginNames } from './config'\nimport checkPlugin from './checkPlugin'\nimport loadPlugin from './loadPlugin'\nimport createError from '../util/createError'\nimport { FORBIDDEN } from '../util/consts'\n\n/**\n * Verify and load and initialize plugins.\n * @param   {PluginNames}  plugins - string array of plugin names\n * @returns {Promise<any>}\n */\nexport default function initPlugins(plugins: PluginNames): Promise<any> {\n  window._log('[load plugins]', plugins)\n  return Promise.all(\n    plugins.map(\n      async (plugin: PluginName): Promise<any> => {\n        if (!checkPlugin(plugin)) {\n          let msg: string = `Plugin ${plugin} is no supported.`\n          if (plugin === 'bluetooth') {\n            msg += ` And bluetooth only works in LINE client. Also you need enable \"BLE feature\" in Developer Center.`\n          }\n          throw createError(FORBIDDEN, msg)\n        }\n        const module: any = await loadPlugin(plugin)\n        if (module && typeof module.default === 'function') {\n          this[plugin] = await module.default()\n        }\n      }\n    )\n  )\n}\n","import checkFeature from '../client/checkFeature'\nimport { verification } from './config'\n\n/**\n * check whether plugin is supported\n * @export\n * @param {string} plugin\n * @returns {boolean}\n */\nexport default function checkPlugin(plugin: string): boolean {\n  const pluginVerification = verification[plugin]\n  if (!pluginVerification) {\n    return false\n  }\n  if (pluginVerification.shouldIgnore) {\n    return true\n  }\n  return checkFeature(pluginVerification.featureName)\n}\n"],"sourceRoot":""}